"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[2223],{28453(e,n,o){o.d(n,{R:()=>l,x:()=>t});var r=o(96540);const c={},i=r.createContext(c);function l(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),r.createElement(i.Provider,{value:n},e.children)}},64865(e,n,o){o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>k,frontMatter:()=>l,metadata:()=>r,toc:()=>s});const r=JSON.parse('{"id":"docker_note/dev-dockerfile","title":"\u958b\u767c\u7528 Dockerfile\uff08Node.js + nodemon\uff09","description":"\ud83d\udce6 \u958b\u767c\u74b0\u5883\u7528 Dockerfile \u8aaa\u660e","source":"@site/docs/docker_note/dockerfile-note.md","sourceDirName":"docker_note","slug":"/docker_note/dev-dockerfile","permalink":"/dev-notes/docs/docker_note/dev-dockerfile","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/docker_note/dockerfile-note.md","tags":[],"version":"current","frontMatter":{"id":"dev-dockerfile","title":"\u958b\u767c\u7528 Dockerfile\uff08Node.js + nodemon\uff09","sidebar_label":"\u958b\u767c\u7528 Dockerfile"},"sidebar":"tutorialSidebar","previous":{"title":"AI \u5ba2\u670d\u5fae\u670d\u52d9","permalink":"/dev-notes/docs/backend/ai-chat-service"},"next":{"title":"\u7b46\u8a18\u7e3d\u89bd","permalink":"/dev-notes/docs/intro"}}');var c=o(74848),i=o(28453);const l={id:"dev-dockerfile",title:"\u958b\u767c\u7528 Dockerfile\uff08Node.js + nodemon\uff09",sidebar_label:"\u958b\u767c\u7528 Dockerfile"},t=void 0,d={},s=[{value:"\ud83d\udce6 \u958b\u767c\u74b0\u5883\u7528 Dockerfile \u8aaa\u660e",id:"-\u958b\u767c\u74b0\u5883\u7528-dockerfile-\u8aaa\u660e",level:2},{value:"\ud83d\udd27 Dockerfile \u8aaa\u660e",id:"-dockerfile-\u8aaa\u660e",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"-\u958b\u767c\u74b0\u5883\u7528-dockerfile-\u8aaa\u660e",children:"\ud83d\udce6 \u958b\u767c\u74b0\u5883\u7528 Dockerfile \u8aaa\u660e"}),"\n",(0,c.jsxs)(n.p,{children:["\u9019\u4efd Dockerfile \u662f\u70ba Node.js \u5c08\u6848\u8a2d\u8a08\u7684\u300c",(0,c.jsx)(n.strong,{children:"\u958b\u767c\u968e\u6bb5\u5c08\u7528\u6620\u50cf\u6a94\uff08Image\uff09\u5efa\u69cb\u8173\u672c"}),"\u300d\uff0c\u652f\u63f4 ",(0,c.jsx)(n.code,{children:"nodemon"})," \u81ea\u52d5\u91cd\u555f\u8207\u672c\u5730 volume \u639b\u8f09\uff0c\u642d\u914d ",(0,c.jsx)(n.code,{children:"docker-compose"})," \u4f7f\u7528\u6548\u679c\u6700\u4f73\u3002"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-dockerfile-\u8aaa\u660e",children:"\ud83d\udd27 Dockerfile \u8aaa\u660e"}),"\n",(0,c.jsx)(n.p,{children:"\u2705 Why\uff08\u70ba\u4ec0\u9ebc\u8981\u5beb Dockerfile\uff1f\uff09"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Dockerfile \u662f\u300c\u5982\u4f55\u5efa\u7acb\u5bb9\u5668\u6620\u50cf\u300d\u7684\u914d\u65b9"}),"\n",(0,c.jsx)(n.li,{children:"\u5b9a\u7fa9 Docker Image \u7684\u5167\u5bb9"}),"\n",(0,c.jsx)(n.li,{children:"\u9019\u662f\u4e00\u4efd Dockerfile\uff0c\u5b83\u6703\u88ab docker build \u62ff\u4f86"}),"\n",(0,c.jsx)(n.li,{children:"\u300c\u88fd\u4f5c image\u300d\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u555f\u52d5 container"}),"\n",(0,c.jsx)(n.li,{children:"Dockerfile \u8ca0\u8cac\u544a\u8a34 Docker\uff1a"}),"\n",(0,c.jsx)(n.li,{children:"\u300c\u6211\u8981\u5f9e\u54ea\u500b\u57fa\u790e\u6620\u50cf\u958b\u59cb\u3001\u8981\u5b89\u88dd\u54ea\u4e9b\u4f9d\u8cf4\u3001\u8907\u88fd\u54ea\u4e9b\u6a94\u6848\u3001\u57f7\u884c\u4ec0\u9ebc\u555f\u52d5\u6307\u4ee4\u3002\u300d"}),"\n"]}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u53ef\u4ee5\u628a\u5b83\u60f3\u6210\uff1a\u5c31\u50cf\u6599\u7406\u98df\u8b5c\uff1a\u5148\u5099\u6599\uff08COPY\uff09\u3001\u518d\u716e\uff08RUN\uff09\u3001\u6700\u5f8c\u4e0a\u684c\uff08CMD\uff09"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\ud83d\udc49 \u6c92\u6709 Dockerfile\uff0cDocker \u4e0d\u77e5\u9053\u600e\u9ebc\u300c\u5f9e\u539f\u6599\u8b8a\u51fa\u4e00\u500b\u80fd\u8dd1\u7684\u61c9\u7528\u300d"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-dockerfile",children:'# \u4f7f\u7528\u7279\u5b9a Node.js \u7248\u672c\nFROM node:20.11.1\n\n# \u8a2d\u5b9a\u5de5\u4f5c\u76ee\u9304\nWORKDIR /app\n\n# \u8907\u88fd package \u6a94\u6848\u4e26\u5b89\u88dd\u4f9d\u8cf4\nCOPY package*.json ./\nRUN npm install\n\n# \u5168\u57df\u5b89\u88dd nodemon\uff08\u82e5\u4f60\u6c92\u5728\u5c08\u6848\u4e2d\u88dd\uff09\nRUN npm install -g nodemon\n\n# \u8907\u88fd\u5c08\u6848\u5176\u4ed6\u6a94\u6848\nCOPY . .\n\n# \u8a2d\u5b9a\u958b\u767c\u4f7f\u7528\u7684\u555f\u52d5\u6307\u4ee4\uff08\u81ea\u52d5\u91cd\u555f\uff09\nCMD ["nodemon", "bin/www.js"]\n\n# \u958b\u653e\u5c0d\u61c9 port\uff08\u53ef\u642d\u914d docker-compose \u4f7f\u7528\uff09\nEXPOSE 5000\n'})})]})}function k(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}}}]);
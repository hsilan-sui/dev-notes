"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[5722],{5363(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"JavaScript/ajaxXhr","title":"\u3010AJAX_ES5\u3011\u4f7f\u7528(XHR)XMLHttpReques\u767c\u9001 Ajax Call","description":"\ud83d\udfe7 \u767c\u9001ajax call: XHR\u8acb\u6c42","source":"@site/docs/JavaScript/01-ajaxXhr.mdx","sourceDirName":"JavaScript","slug":"/JavaScript/ajaxXhr","permalink":"/dev-notes/docs/JavaScript/ajaxXhr","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/JavaScript/01-ajaxXhr.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"\u3010AJAX_ES5\u3011\u4f7f\u7528(XHR)XMLHttpReques\u767c\u9001 Ajax Call","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u3010\u7b46\u8a18_\u526f\u6a19\u7c64\u3011\u7b46\u8a18\u7d50\u69cb","permalink":"/dev-notes/docs/JavaScript/markdown-features"},"next":{"title":"Create a Document","permalink":"/dev-notes/docs/JavaScript/create-a-document"}}');var l=t(4848),r=t(8453);const i={title:"\u3010AJAX_ES5\u3011\u4f7f\u7528(XHR)XMLHttpReques\u767c\u9001 Ajax Call",sidebar_position:2},a=void 0,c={},d=[{value:"\ud83d\udfe7 \u767c\u9001ajax call: XHR\u8acb\u6c42",id:"-\u767c\u9001ajax-call-xhr\u8acb\u6c42",level:2},{value:"1\ufe0f\u20e3 \u5b9a\u7fa9\u6d41\u7a0b",id:"1\ufe0f\u20e3-\u5b9a\u7fa9\u6d41\u7a0b",level:3},{value:"2\ufe0f\u20e3 \u5c0d\u61c9\u7a0b\u5f0f\u78bc\uff1a",id:"2\ufe0f\u20e3-\u5c0d\u61c9\u7a0b\u5f0f\u78bc",level:3},{value:"3\ufe0f\u20e3 \u5148\u628a\u8acb\u6c42\u5305\u6210\u51fd\u5f0f",id:"3\ufe0f\u20e3-\u5148\u628a\u8acb\u6c42\u5305\u6210\u51fd\u5f0f",level:3},{value:"4\ufe0f\u20e3 \u56de\u547c\u5730\u7344",id:"4\ufe0f\u20e3-\u56de\u547c\u5730\u7344",level:3}];function o(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"-\u767c\u9001ajax-call-xhr\u8acb\u6c42",children:"\ud83d\udfe7 \u767c\u9001ajax call: XHR\u8acb\u6c42"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u5148\u6e2c\u8a66\u7b2c\u4e00\u4ee3\u7684 AJAX call \u767c\u9001 XHR(XMLHttpRequest)\u8acb\u6c42"}),"\n"]}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"url \u6211\u60f3\u73a9\u5169\u7a2e\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/frontend_data.json",children:"\u516d\u89d2\u63d0\u4f9b"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://restcountries.com/",children:"REST Countries API"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6211\u60f3\u8981\u5f9eAPI\u88e1\u62ff\u5230\u67d0\u570b\u5bb6\u7684\u76f8\u95dc\u8cc7\u6599"}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"1\ufe0f\u20e3-\u5b9a\u7fa9\u6d41\u7a0b",children:"1\ufe0f\u20e3 \u5b9a\u7fa9\u6d41\u7a0b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"1. \u5efa\u7acb\u4e00\u500b XMLHttpRequest \u7269\u4ef6\n2. \u8a2d\u5b9a\u767c\u9001\u7db2\u8def\u8acb\u6c42\u7684\u65b9\u6cd5 \u8207 \u8a2d\u5b9a\u7db2\u5740 .open()\n3. \u767c\u9001\u8acb\u6c42 .send() ==> request.send() \u4e26\u4e0d\u6703\u7b49\u8cc7\u6599\u56de\u4f86\u3002\n4. \u8a3b\u518a\u4e00\u500b callback\uff08load \u4e8b\u4ef6\uff09\n5. \u4e3b\u7a0b\u5f0f\u7e7c\u7e8c\u5f80\u4e0b\u8dd1\n6. \u8cc7\u6599\u5f9e\u4f3a\u670d\u5668\u56de\u50b3\u56de\u4f86\u5f8c => onload \u88ab\u547c\u53eb\n"})}),"\n",(0,l.jsxs)(n.admonition,{type:"danger",children:[(0,l.jsx)(n.p,{children:"\u2714 send() \u4e0d\u6703\u7b49\u5f85\u8cc7\u6599 => \u975e\u540c\u6b65"}),(0,l.jsx)(n.p,{children:"\u2714 \u4e00\u5207\u90fd\u8981\u9760 \u8a2d\u8a08load callback \u4f86\u63a5\u7d50\u679c"})]}),"\n",(0,l.jsx)(n.h3,{id:"2\ufe0f\u20e3-\u5c0d\u61c9\u7a0b\u5f0f\u78bc",children:"2\ufe0f\u20e3 \u5c0d\u61c9\u7a0b\u5f0f\u78bc\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:'"use strict";\n\n// ES5\u65b9\u5f0f\uff1a\u4f7f\u7528 XMLHttpRequest \u767c\u9001 GET \u8acb\u6c42\nconst request = new XMLHttpRequest();\n\n// \u8a2d\u5b9a\u8acb\u6c42\uff08\u65b9\u6cd5 + URL\uff09\nrequest.open("GET", "https://restcountries.com/v3.1/name/portugal");\n\n// \u26a0\ufe0f \u975e\u540c\u6b65|\u767c\u9001\u8acb\u6c42\uff08\u975e\u540c\u6b65\uff0c\u4e0d\u6703\u7b49\u5f85\u56de\u50b3\uff09\nrequest.send();\n\n// \u8a3b\u518a callback\uff0c\u7b49\u5f85\u8cc7\u6599\u56de\u4f86\nrequest.addEventListener("load", function () {\n  console.log(this); // XMLHttpRequest instance\n  // const data = JSON.parse(this.responseText);\n});\n'})}),"\n",(0,l.jsx)("iframe",{height:"300",style:{width:"100%"},scrolling:"no",title:"XHR AJAX Demo",src:"https://codepen.io/sui-hsialn/embed/ZYOeBbP?default-tab=js",frameBorder:"0",loading:"lazy",allowFullScreen:!0}),"\n",(0,l.jsx)(n.p,{children:"\ud83d\udd39 \u88dc\u5145 1\uff1a\u70ba\u4ec0\u9ebc send \u4e0d\u7b49\u8cc7\u6599\uff1f"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u56e0\u70ba Ajax \u662f\u975e\u540c\u6b65\u8acb\u6c42\uff0c .send() \u7684\u8077\u8cac\u53ea\u662f\u300c\u9001\u51fa\u8acb\u6c42\u300d\uff0c\u8cc7\u6599\u6703\u5728\u80cc\u666f\u50b3\u8f38\uff0cJavaScript \u4e3b\u57f7\u884c\u7dd2\u4e0d\u6703\u88ab\u963b\u585e\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\ud83d\udd39 \u88dc\u5145 2\uff1a\u70ba\u4ec0\u9ebc\u4e00\u5b9a\u8981 callback\uff1f"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u56e0\u70ba\u8cc7\u6599\u300c\u4ec0\u9ebc\u6642\u5019\u56de\u4f86\u300d\u662f\u7121\u6cd5\u9810\u671f\u7684\uff0cJavaScript \u53ea\u80fd\u5148\u8a3b\u518a\u4e00\u500b callback\uff0c\u7b49\u4f3a\u670d\u5668\u56de\u61c9\u5b8c\u6210\u6642\uff0c\u518d\u7531\u700f\u89bd\u5668\u547c\u53eb\u9019\u500b\u51fd\u5f0f\u4f86\u8655\u7406\u7d50\u679c\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u4e5f\u5c31\u662f\u8aaa\uff0c\u5728 Ajax \u4e2d\uff1a","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6211\u5148\u5b9a\u7fa9\u300c\u8cc7\u6599\u56de\u4f86\u5f8c\u8981\u505a\u4ec0\u9ebc\u300d"}),"\n",(0,l.jsx)(n.li,{children:"\u4f46\u4e0d\u662f\u6211\u6c7a\u5b9a\u300c\u4ec0\u9ebc\u6642\u5019\u505a\u300d"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\ud83d\udd39 \u88dc\u5145 3\uff1a\u70ba\u4ec0\u9ebc\u73fe\u5728\u4e0d\u5e38\u7528 XHR\uff1f"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u56e0\u70ba\u8cc7\u6599\u56de\u4f86\u7684\u6642\u9593\u4e0d\u78ba\u5b9a\uff0c\u53ea\u80fd\u5728\u4e8b\u4ef6\u767c\u751f\u6642\u8655\u7406\u7d50\u679c\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u554f\u984c"}),(0,l.jsx)(n.th,{children:"\u8aaa\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u53ef\u8b80\u6027\u5dee"}),(0,l.jsx)(n.td,{children:"\u6d41\u7a0b\u88ab\u62c6\u6563"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u5de2\u72c0 callback"}),(0,l.jsx)(n.td,{children:"\u96e3\u7dad\u8b77"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"\u932f\u8aa4\u8655\u7406\u9ebb\u7169"}),(0,l.jsx)(n.td,{children:"\u5fc5\u9808\u624b\u52d5\u5224\u65b7"})]})]})]}),"\n",(0,l.jsxs)(n.admonition,{type:"tip",children:[(0,l.jsx)(n.p,{children:"XMLHttpRequest \u5b8c\u5168\u57fa\u65bc\u4e8b\u4ef6\u8207 callback \u8a2d\u8a08\uff0c"}),(0,l.jsx)(n.p,{children:"\u7576\u975e\u540c\u6b65\u6d41\u7a0b\u8b8a\u591a\u6642\uff0c\u7a0b\u5f0f\u78bc\u5bb9\u6613\u88ab\u62c6\u6563\u3001\u5de2\u72c0\u5316\uff0c"}),(0,l.jsx)(n.p,{children:"\u53ef\u8b80\u6027\u8207\u7dad\u8b77\u6027\u90fd\u6703\u5feb\u901f\u4e0b\u964d\u3002"}),(0,l.jsx)(n.p,{children:"\ud83d\udc49 ES6 Promise / async await \u5c31\u662f\u70ba\u4e86\u89e3\u6c7a\u9019\u4e9b\u554f\u984c"})]}),"\n",(0,l.jsx)(n.h3,{id:"3\ufe0f\u20e3-\u5148\u628a\u8acb\u6c42\u5305\u6210\u51fd\u5f0f",children:"3\ufe0f\u20e3 \u5148\u628a\u8acb\u6c42\u5305\u6210\u51fd\u5f0f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js"})}),"\n",(0,l.jsx)(n.h3,{id:"4\ufe0f\u20e3-\u56de\u547c\u5730\u7344",children:"4\ufe0f\u20e3 \u56de\u547c\u5730\u7344"}),"\n",(0,l.jsx)(n.p,{children:"\u6211\u62ff\u5230\u4e86\u8a72\u570b\u7684\u8cc7\u6599\uff0c\u6211\u60f3\u8981\u4f9d\u64da\u8a72\u570b\u5bb6\u53bb\u6293\u5b83\u9130\u570b\u7684\u8cc7\u6599\u5462\uff1f"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4e00\u6a23\u5148\u4f7f\u7528XHR\u4f86\u505a\uff1a"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const l={},r=s.createContext(l);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
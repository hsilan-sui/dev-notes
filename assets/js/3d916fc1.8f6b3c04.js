"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[156],{13429(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"JavaScript/scope","title":"\u3010Scope\u3011JS\u4e09\u7a2eScope\u4f5c\u7528\u57df","description":"\ud83d\udfe7 JavaScript \u7684\u4e09\u7a2e Scope\uff08\u4f5c\u7528\u57df\uff09","source":"@site/docs/JavaScript/07-scope.mdx","sourceDirName":"JavaScript","slug":"/JavaScript/scope","permalink":"/dev-notes/docs/JavaScript/scope","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/JavaScript/07-scope.mdx","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"\u3010Scope\u3011JS\u4e09\u7a2eScope\u4f5c\u7528\u57df","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"JavaScript \u57fa\u790e(\u4e0b)","permalink":"/dev-notes/docs/JavaScript/js-fundamental-II"},"next":{"title":"\u3010JS_\u6838\u5fc3\u3011Garbage Collection/\u5783\u573e\u56de\u6536\u6a5f\u5236 \u8207 Memory Leaks/\u8a18\u61b6\u9ad4\u6d29\u6f0f","permalink":"/dev-notes/docs/JavaScript/js-03-fundamental-gc"}}');var c=s(74848),l=s(28453);const d={title:"\u3010Scope\u3011JS\u4e09\u7a2eScope\u4f5c\u7528\u57df",sidebar_position:7},i=void 0,o={},t=[{value:"\ud83d\udfe7 JavaScript \u7684\u4e09\u7a2e Scope\uff08\u4f5c\u7528\u57df\uff09",id:"-javascript-\u7684\u4e09\u7a2e-scope\u4f5c\u7528\u57df",level:2},{value:"\u2705 var\u8981\u5c0f\u5fc3",id:"-var\u8981\u5c0f\u5fc3",level:3},{value:"1\ufe0f\u20e3 \u5168\u57df <code>var</code> \u7684\u5169\u500b\u7279\u6027\uff08\u91cd\u9ede\uff09",id:"1\ufe0f\u20e3-\u5168\u57df-var-\u7684\u5169\u500b\u7279\u6027\u91cd\u9ede",level:3},{value:"2\ufe0f\u20e3 \u70ba\u4ec0\u9ebc <code>var</code> \u6703\u9019\u6a23\uff08Why\uff09",id:"2\ufe0f\u20e3-\u70ba\u4ec0\u9ebc-var-\u6703\u9019\u6a23why",level:3},{value:"3\ufe0f\u20e3 \u5c0d\u7167 <code>let / const</code>",id:"3\ufe0f\u20e3-\u5c0d\u7167-let--const",level:3},{value:"4\ufe0f\u20e3 \u6700\u5371\u96aa\u7684\u5730\u65b9",id:"4\ufe0f\u20e3-\u6700\u5371\u96aa\u7684\u5730\u65b9",level:3},{value:"\u5168\u57df <code>var</code> \u6703\u6c61\u67d3\u5168\u57df\u547d\u540d\u7a7a\u9593",id:"\u5168\u57df-var-\u6703\u6c61\u67d3\u5168\u57df\u547d\u540d\u7a7a\u9593",level:4}];function a(e){const n={admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{Highlight:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Highlight",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"-javascript-\u7684\u4e09\u7a2e-scope\u4f5c\u7528\u57df",children:"\ud83d\udfe7 JavaScript \u7684\u4e09\u7a2e Scope\uff08\u4f5c\u7528\u57df\uff09"}),"\n",(0,c.jsxs)(n.p,{children:["\u5728 JavaScript \u4e2d\uff0c",(0,c.jsx)(n.strong,{children:"Scope \u7528\u4f86\u6c7a\u5b9a\u300c\u8b8a\u6578\u5728\u54ea\u88e1\u53ef\u4ee5\u88ab\u5b58\u53d6\u300d"}),"\u3002",(0,c.jsx)(n.br,{}),"\n","\u76ee\u524d\u5e38\u898b\u7684\u4f5c\u7528\u57df\u5206\u70ba\u4e09\u7a2e\uff1a"]}),"\n",(0,c.jsx)(n.admonition,{title:"Scope \u7528\u4f86\u6c7a\u5b9a\u300c\u8b8a\u6578\u5728\u54ea\u88e1\u53ef\u4ee5\u88ab\u5b58\u53d6\u300d",type:"tip",children:(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Global Scope\uff08\u5168\u57df\u4f5c\u7528\u57df)"}),(0,c.jsx)(n.th,{children:"Function Scope\uff08\u51fd\u5f0f\u4f5c\u7528\u57df\uff09"}),(0,c.jsx)(n.th,{children:"Block Scope\uff08\u5340\u584a\u4f5c\u7528\u57df\uff0cES6\uff09if/while"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:'const  me = "sui";'}),";"]}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"function calcAge(birthYear) {"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"if (year >= 1998 && year <= 1996) {"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:'const  job = "teacher";'})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"var now = 2037;"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"const millenial = true;"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"var year = 1998;"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"var age = now - birthYear;"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"const food = '\u5410\u53f8';"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u5728fn\u6216\u5340\u584a\u4ee5\u5916\u5ba3\u544a\u7684\u8b8a\u6578"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"return age;"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"}"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u5728\u5168\u57df\u5ba3\u544a\u7684\u8b8a\u6578\uff0c\u96a8\u8655\u53ef\u5f97"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"}"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"console.log(millenial) //ReferenceError"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:"\u6ce8\u610f\uff01var\u53ef\u4ee5\u91cd\u65b0\u8ce6\u503c"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"console.log(now) //ReferenceError"})}),(0,c.jsxs)(n.td,{children:["\u8b8a\u6578\u53ea\u80fd\u5728\u5340\u584a",(0,c.jsx)(n.code,{children:"{}"}),"\u4e2d\u53d6\u5f97"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"year = 2007;"})}),(0,c.jsx)(n.td,{children:"\u56e0\u70ba\u8b8a\u6578\u53ea\u80fd\u5728\u51fd\u5f0f\u4f5c\u7528\u57df\u5167\u53d6\u5f97"}),(0,c.jsx)(n.td,{children:(0,c.jsx)(s,{color:"#1877F2",children:"\u5340\u584a\u4f5c\u7528\u57df\u53ea\u6709let\u548cconst\u6709\u4f5c\u7528"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"console.log(a); // 20"}),"\u91cd\u65b0\u8ce6\u503cok"]}),(0,c.jsx)(n.td,{children:(0,c.jsx)(s,{color:"#C62828",children:"var \u662fglobe scope \u548cfunction scope \uff06let / const \u90fd\u9075\u5b88 function scope"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(s,{color:"#C62828",children:"\u274c var\u4e0d\u5403 block scope"})})]})]})]})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"-var\u8981\u5c0f\u5fc3",children:"\u2705 var\u8981\u5c0f\u5fc3"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsxs)(n.strong,{children:["\u5168\u57df\u7684 ",(0,c.jsx)(n.code,{children:"var"})," \u53ef\u4ee5\u88ab\u91cd\u65b0\u8ce6\u503c\uff0c\u4e5f\u53ef\u4ee5\u88ab\u91cd\u65b0\u5ba3\u544a\uff0c\n\u5f8c\u9762\u7684\u4e00\u5b9a\u6703\u8986\u84cb\u524d\u9762\u3002"]})}),"\n"]}),"\n",(0,c.jsxs)(n.h3,{id:"1\ufe0f\u20e3-\u5168\u57df-var-\u7684\u5169\u500b\u7279\u6027\u91cd\u9ede",children:["1\ufe0f\u20e3 \u5168\u57df ",(0,c.jsx)(n.code,{children:"var"})," \u7684\u5169\u500b\u7279\u6027\uff08\u91cd\u9ede\uff09"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u7279\u6027\u4e00\uff1a\u53ef\u4ee5\u91cd\u65b0\u8ce6\u503c"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"var a = 10;\na = 20;\n\nconsole.log(a); // 20\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\ud83d\udc49 \u6c92\u554f\u984c\uff0c\u9019\u662f\u300c\u91cd\u65b0\u8ce6\u503c\u300d"}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u7279\u6027\u4e8c\uff1a\u53ef\u4ee5\u91cd\u65b0\u5ba3\u544a\uff08re-declare\uff09"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"var a = 10;\nvar a = 30;\n\nconsole.log(a); // 30\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,c.jsx)(n.strong,{children:"\u5f8c\u9762\u76f4\u63a5\u53d6\u4ee3\u524d\u9762"})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.h3,{id:"2\ufe0f\u20e3-\u70ba\u4ec0\u9ebc-var-\u6703\u9019\u6a23why",children:["2\ufe0f\u20e3 \u70ba\u4ec0\u9ebc ",(0,c.jsx)(n.code,{children:"var"})," \u6703\u9019\u6a23\uff08Why\uff09"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u80cc\u5f8c\u6a5f\u5236\uff08\u767d\u8a71\u7248\uff09"}),"\n"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["\u5168\u57df ",(0,c.jsx)(n.code,{children:"var"})," \u6703\u8b8a\u6210\uff1a"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.strong,{children:"\u5168\u57df\u57f7\u884c\u74b0\u5883\u88e1\u7684\u4e00\u500b\u8b8a\u6578"})}),"\n",(0,c.jsxs)(n.li,{children:["\u5728\u700f\u89bd\u5668\u4e2d\u751a\u81f3\u6703\u639b\u5728 ",(0,c.jsx)(n.code,{children:"window"})," \u4e0a"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"var x = 1;\nconsole.log(window.x); // 1\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u7576\u4f60\u518d\u6b21\u5beb\uff1a"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"var x = 2;\nconsole.log(window.x); // 2\n"})}),"\n",(0,c.jsx)(n.p,{children:"JS \u6703\u89ba\u5f97\uff1a"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u300c\u5594\uff0c\u540c\u4e00\u500b\u5168\u57df\u8b8a\u6578\uff0c\u518d\u8ce6\u65b0\u503c\u800c\u5df2\u300d"}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.h3,{id:"3\ufe0f\u20e3-\u5c0d\u7167-let--const",children:["3\ufe0f\u20e3 \u5c0d\u7167 ",(0,c.jsx)(n.code,{children:"let / const"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"let"}),"\uff1a\u4e0d\u80fd\u91cd\u8907\u5ba3\u544a(\u274c SyntaxError)\uff0c\u4f46\u53ef\u4ee5\u91cd\u65b0\u8ce6\u503c"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"let a = 10;\na = 20;    // OK\nlet a = 30; // \u274c SyntaxError\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"const"}),"\uff1a\u4e0d\u80fd\u91cd\u8907\u5ba3\u544a(\u274c SyntaxError)\uff0c\u4e5f\u4e0d\u80fd\u91cd\u65b0\u8ce6\u503c(\u274c TypeError)"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"const a = 10;\na = 20;     // \u274c TypeError\nconst a = 30; // \u274c SyntaxError\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"4\ufe0f\u20e3-\u6700\u5371\u96aa\u7684\u5730\u65b9",children:"4\ufe0f\u20e3 \u6700\u5371\u96aa\u7684\u5730\u65b9"}),"\n",(0,c.jsxs)(n.h4,{id:"\u5168\u57df-var-\u6703\u6c61\u67d3\u5168\u57df\u547d\u540d\u7a7a\u9593",children:["\u5168\u57df ",(0,c.jsx)(n.code,{children:"var"})," \u6703\u6c61\u67d3\u5168\u57df\u547d\u540d\u7a7a\u9593"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"var\u662f\u5403\u51fd\u5f0f\u4f5c\u7528\u57df\u7684(\u9084\u597d\u9019\u88e1\u6709 function scope)"}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"var name = 'Sui';\n\nfunction test() {\n  var name = 'Other';\n}\n\nconsole.log(name); // 'Sui'\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u4f46\u5982\u679c\u662f\u9019\u6a23\uff0cvar\u4e0d\u5403block scope\uff0c\u5f8c\u9762\u5ba3\u544a\u8ce6\u503c\u7684\u8b8a\u6578\u6703\u8986\u84cb\u524d\u9762","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"\u8b8a\u6578\u88ab\u6c61\u67d3"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:"var data = 1;\n\nif (true) {\n  var data = 2;\n}\n\nconsole.log(data); // 2 \ud83d\ude31\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\ud83d\udc49 \u56e0\u70ba ",(0,c.jsx)(n.code,{children:"var"})," ",(0,c.jsx)(n.strong,{children:"\u6c92\u6709 block scope"})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsxs)(n.admonition,{type:"tip",children:[(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["\u5168\u57df\u4f7f\u7528 ",(0,c.jsx)(n.code,{children:"var"})," \u5ba3\u544a\u7684\u8b8a\u6578\u53ef\u4ee5\u88ab\u91cd\u65b0\u8ce6\u503c\uff0c\u4e5f\u53ef\u4ee5\u88ab\u91cd\u65b0\u5ba3\u544a\uff0c\u5f8c\u9762\u5ba3\u544a\u7684\u503c\u6703\u76f4\u63a5\u8986\u84cb\u524d\u9762\uff0c\u56e0\u6b64\u5bb9\u6613\u9020\u6210\u5168\u57df\u6c61\u67d3\u3002"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u53ea\u6709 function scope\uff0c\u6c92\u6709 block scope\uff0c\u800c\u4e14\u5728\u5168\u57df\u6703\u8b8a\u6210\u5168\u57df\u7269\u4ef6\u7684\u5c6c\u6027\uff0c\u5bb9\u6613\u88ab\u8986\u84cb\u9020\u6210\u4e0d\u53ef\u9810\u671f\u7684\u526f\u4f5c\u7528\u3002"}),"\n"]}),"\n"]}),"\n"]}),(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\u274c \u4e0d\u8981\u5728\u73fe\u4ee3\u5c08\u6848\u7528\u5168\u57df ",(0,c.jsx)(n.code,{children:"var"})]}),"\n",(0,c.jsxs)(n.li,{children:["\u2705 \u7528 ",(0,c.jsx)(n.code,{children:"let / const"})]}),"\n",(0,c.jsx)(n.li,{children:"\u2705 \u6a21\u7d44\u5316\uff08ESM\uff09\u907f\u514d\u5168\u57df\u8b8a\u6578"}),"\n"]})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},28453(e,n,s){s.d(n,{R:()=>d,x:()=>i});var r=s(96540);const c={},l=r.createContext(c);function d(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);
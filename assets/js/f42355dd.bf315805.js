"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[6054],{6292(n,e,l){l.r(e),l.d(e,{assets:()=>h,contentTitle:()=>d,default:()=>o,frontMatter:()=>c,metadata:()=>s,toc:()=>x});const s=JSON.parse('{"id":"LinuxSysadmin/week1-1","title":"W1-1:\u7cfb\u7d71\u7ba1\u7406\u5c64-\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9(cron)","description":"Week1\uff1aLinux \u7cfb\u7d71\u7ba1\u7406\u7684\u9aa8\u67b6","source":"@site/docs/LinuxSysadmin/01-week1-1.mdx","sourceDirName":"LinuxSysadmin","slug":"/LinuxSysadmin/week1-1","permalink":"/dev-notes/docs/LinuxSysadmin/week1-1","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/LinuxSysadmin/01-week1-1.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"W1-1:\u7cfb\u7d71\u7ba1\u7406\u5c64-\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9(cron)","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u7e3d\u89bd","permalink":"/dev-notes/docs/LinuxSysadmin/overview"},"next":{"title":"W1-2:\u7cfb\u7d71\u7ba1\u7406\u5c64-\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9(anacron)","permalink":"/dev-notes/docs/LinuxSysadmin/week1-2"}}');var i=l(4848),r=l(8453);const c={title:"W1-1:\u7cfb\u7d71\u7ba1\u7406\u5c64-\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9(cron)",sidebar_position:1},d=void 0,h={},x=[{value:"Week1\uff1aLinux \u7cfb\u7d71\u7ba1\u7406\u7684\u9aa8\u67b6",id:"week1linux-\u7cfb\u7d71\u7ba1\u7406\u7684\u9aa8\u67b6",level:2},{value:"\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9",id:"\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9",level:2},{value:"\u4e00\u3001CRON\u5728\u505a\u4ec0\u9ebc\uff08What\uff09",id:"\u4e00cron\u5728\u505a\u4ec0\u9ebcwhat",level:3},{value:"\u4e8c\u3001\u600e\u9ebc\u505a\uff08How\uff09",id:"\u4e8c\u600e\u9ebc\u505ahow",level:3},{value:"1\ufe0f\u20e3 CRON \u7684\u57fa\u672c\u6982\u5ff5",id:"1\ufe0f\u20e3-cron-\u7684\u57fa\u672c\u6982\u5ff5",level:4},{value:"2\ufe0f\u20e3 CRON tab \u7684\u4e09\u500b\u610f\u601d",id:"2\ufe0f\u20e3-cron-tab-\u7684\u4e09\u500b\u610f\u601d",level:4},{value:"1. <strong>\u4f7f\u7528\u8005\u7684 crontab \u6a94\u6848</strong>",id:"1-\u4f7f\u7528\u8005\u7684-crontab-\u6a94\u6848",level:4},{value:"2. <strong>crontab \u6307\u4ee4</strong>",id:"2-crontab-\u6307\u4ee4",level:4},{value:"3. <strong>\u7cfb\u7d71\u5c64\u7d1a\u7684 crontab \u8a2d\u5b9a\u6a94</strong>",id:"3-\u7cfb\u7d71\u5c64\u7d1a\u7684-crontab-\u8a2d\u5b9a\u6a94",level:4},{value:"3\ufe0f\u20e3 \u4f7f\u7528\u8005\u5c64\u7d1a CRON\uff08\u6700\u5e38\u7528\uff09",id:"3\ufe0f\u20e3-\u4f7f\u7528\u8005\u5c64\u7d1a-cron\u6700\u5e38\u7528",level:4},{value:"\u5e38\u7528\u6307\u4ee4",id:"\u5e38\u7528\u6307\u4ee4",level:5},{value:"4\ufe0f\u20e3 CRON job \u7684\u683c\u5f0f\uff08\u6838\u5fc3\uff09",id:"4\ufe0f\u20e3-cron-job-\u7684\u683c\u5f0f\u6838\u5fc3",level:4},{value:"5\ufe0f\u20e3 \u5e38\u898b\u7b26\u865f\u7528\u6cd5",id:"5\ufe0f\u20e3-\u5e38\u898b\u7b26\u865f\u7528\u6cd5",level:4},{value:"6\ufe0f\u20e3 \u7bc4\u4f8b\u7406\u89e3\uff08\u7528\u767d\u8a71\uff09",id:"6\ufe0f\u20e3-\u7bc4\u4f8b\u7406\u89e3\u7528\u767d\u8a71",level:4},{value:"7\ufe0f\u20e3 \u7279\u6b8a\u95dc\u9375\u5b57\uff08\u4e0d\u7528\u8a18\u6578\u5b57\uff09",id:"7\ufe0f\u20e3-\u7279\u6b8a\u95dc\u9375\u5b57\u4e0d\u7528\u8a18\u6578\u5b57",level:4},{value:"8\ufe0f\u20e3 \u5be6\u52d9\u9a57\u8b49\u65b9\u5f0f",id:"8\ufe0f\u20e3-\u5be6\u52d9\u9a57\u8b49\u65b9\u5f0f",level:4},{value:"9\ufe0f\u20e3 \u7ba1\u7406\u5176\u4ed6\u4f7f\u7528\u8005\u7684 CRON\uff08root\uff09",id:"9\ufe0f\u20e3-\u7ba1\u7406\u5176\u4ed6\u4f7f\u7528\u8005\u7684-cronroot",level:4},{value:"\ud83d\udd1f \u6b0a\u9650\u63a7\u5236",id:"-\u6b0a\u9650\u63a7\u5236",level:4},{value:"1\ufe0f\u20e31\ufe0f\u20e3 \u7cfb\u7d71\u5c64\u7d1a CRON\uff08system-wide\uff09",id:"1\ufe0f\u20e31\ufe0f\u20e3-\u7cfb\u7d71\u5c64\u7d1a-cronsystem-wide",level:4},{value:"\u4e09\u3001\u70ba\u4ec0\u9ebc\u9019\u6a23\u505a\uff08Why\uff09",id:"\u4e09\u70ba\u4ec0\u9ebc\u9019\u6a23\u505awhy",level:3},{value:"\u56db\u3001\u95dc\u9375\u5b57",id:"\u56db\u95dc\u9375\u5b57",level:3},{value:"\u4e94\u3001\u6211\u500b\u4eba\u5c08\u6848\u60c5\u5883\u4f86\u8aaa",id:"\u4e94\u6211\u500b\u4eba\u5c08\u6848\u60c5\u5883\u4f86\u8aaa",level:3},{value:"\u4e00\u53e5\u8a71\u7d50\u8ad6\uff1a",id:"\u4e00\u53e5\u8a71\u7d50\u8ad6",level:2}];function j(n){const e={admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"week1linux-\u7cfb\u7d71\u7ba1\u7406\u7684\u9aa8\u67b6",children:"Week1\uff1aLinux \u7cfb\u7d71\u7ba1\u7406\u7684\u9aa8\u67b6"}),"\n",(0,i.jsx)(e.mermaid,{value:"flowchart TD\n    A[\u7cfb\u7d71\u7ba1\u7406\u5c64]\n\n    A --\x3e B[\u670d\u52d9\u7ba1\u7406]\n    A --\x3e C[\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9]\n    A --\x3e D[\u7cfb\u7d71\u8cc7\u6e90\u8207\u72c0\u614b]\n\n    %% \u670d\u52d9\u7ba1\u7406\n    B --\x3e B1[\u555f\u52d5\u8207\u505c\u6b62\u670d\u52d9]\n    B --\x3e B2[\u670d\u52d9\u81ea\u52d5\u555f\u52d5]\n    B --\x3e B3[systemd \u8207 systemctl]\n\n    %% \u6392\u7a0b\n    C --\x3e C1[\u5b9a\u6642\u57f7\u884c\u4efb\u52d9]\n    C --\x3e C2[\u80cc\u666f\u9577\u6642\u9593\u5de5\u4f5c]\n    C --\x3e C3[cron \u8207 anacron]\n\n    %% \u7cfb\u7d71\u8cc7\u6e90\n    D --\x3e D1[\u78c1\u789f\u8207\u7a7a\u9593\u72c0\u614b]\n    D --\x3e D2[\u7cfb\u7d71\u904b\u4f5c\u72c0\u6cc1]\n    D --\x3e D3[\u78c1\u789f\u8207\u639b\u8f09]\n    D --\x3e D4[\u786c\u9ad4\u8207\u88dd\u7f6e\u8cc7\u8a0a]\n\n    %% \u7d30\u9805\n    D3 --\x3e D31[df \u8207 mount]\n    D3 --\x3e D32[umount \u8207 fdisk]\n\n    D4 --\x3e D41[\u88dd\u7f6e\u8207\u786c\u9ad4\u8cc7\u8a0a]\n    D4 --\x3e D42[device files \u8207 dd]\n\n    classDef admin fill:#E3F2FD,stroke:#1565C0,stroke-width:1px\n    class A,B,B1,B2,B3,C,C1,C2,C3,D,D1,D2,D3,D4,D31,D32,D41,D42 admin\n"}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9",children:"\u6392\u7a0b\u8207\u80cc\u666f\u4efb\u52d9"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"CRON \u6392\u7a0b\u5de5\u5177\uff08Linux\uff09"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u4e00cron\u5728\u505a\u4ec0\u9ebcwhat",children:"\u4e00\u3001CRON\u5728\u505a\u4ec0\u9ebc\uff08What\uff09"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"CRON"}),"\uff0c\u4e00\u500b Linux \u7cfb\u7d71\u4e2d\u7528\u4f86",(0,i.jsx)(e.strong,{children:"\u5b9a\u6642\u57f7\u884c\u6307\u4ee4\u6216\u8173\u672c"}),"\u7684\u6838\u5fc3\u5de5\u5177\u3002"]}),"\n",(0,i.jsx)(e.p,{children:"\u7406\u89e3\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CRON \u662f\u4ec0\u9ebc\u89d2\u8272"}),"\n",(0,i.jsx)(e.li,{children:"\u4ec0\u9ebc\u4e8b\u60c5\u9069\u5408\u4ea4\u7d66 CRON \u505a"}),"\n",(0,i.jsx)(e.li,{children:"\u4f7f\u7528\u8005\u5c64\u7d1a vs \u7cfb\u7d71\u5c64\u7d1a\u6392\u7a0b\u7684\u5dee\u7570"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u6838\u5fc3\u89c0\u9ede\u662f\uff1a"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"\u5e7e\u4e4e\u6c92\u6709\u4e00\u53f0\u6b63\u5f0f\u7684 Linux Server \u662f\u6c92\u6709 CRON \u4efb\u52d9\u7684\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.admonition,{title:"My tip",type:"tip",children:[(0,i.jsxs)(e.p,{children:["CRON \u4e3b\u8981\u7528\u4f86",(0,i.jsx)(e.strong,{children:"\u81ea\u52d5\u5316\u91cd\u8907\u6027\u5de5\u4f5c"}),"\uff0c\u4f8b\u5982\uff1a"]}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5099\u4efd\u8cc7\u6599"}),"\n",(0,i.jsx)(e.li,{children:"\u76e3\u63a7\u78c1\u789f\u7a7a\u9593"}),"\n",(0,i.jsx)(e.li,{children:"\u7cfb\u7d71\u66f4\u65b0"}),"\n",(0,i.jsx)(e.li,{children:"\u5bc4\u9001\u901a\u77e5\u4fe1"}),"\n",(0,i.jsx)(e.li,{children:"log \u8f2a\u66ff"}),"\n"]})]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\u4e8c\u600e\u9ebc\u505ahow",children:"\u4e8c\u3001\u600e\u9ebc\u505a\uff08How\uff09"}),"\n",(0,i.jsx)(e.h4,{id:"1\ufe0f\u20e3-cron-\u7684\u57fa\u672c\u6982\u5ff5",children:"1\ufe0f\u20e3 CRON \u7684\u57fa\u672c\u6982\u5ff5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["CRON \u4ee5 ",(0,i.jsx)(e.strong,{children:"daemon\uff08\u80cc\u666f\u670d\u52d9\uff09"})," \u65b9\u5f0f\u904b\u4f5c"]}),"\n",(0,i.jsxs)(e.li,{children:["\u6bcf\u4e00\u500b\u6392\u7a0b\u4efb\u52d9\u53eb\u505a ",(0,i.jsx)(e.strong,{children:"CRON job"})]}),"\n",(0,i.jsxs)(e.li,{children:["CRON \u6703\u4f9d\u7167",(0,i.jsx)(e.strong,{children:"\u8a2d\u5b9a\u7684\u6642\u9593"}),"\u53bb\u57f7\u884c\u6307\u4ee4\u6216\u8173\u672c"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"2\ufe0f\u20e3-cron-tab-\u7684\u4e09\u500b\u610f\u601d",children:"2\ufe0f\u20e3 CRON tab \u7684\u4e09\u500b\u610f\u601d"}),"\n",(0,i.jsxs)(e.h4,{id:"1-\u4f7f\u7528\u8005\u7684-crontab-\u6a94\u6848",children:["1. ",(0,i.jsx)(e.strong,{children:"\u4f7f\u7528\u8005\u7684 crontab \u6a94\u6848"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"\u6bcf\u500b\u4f7f\u7528\u8005\u90fd\u6709\u4e00\u4efd"})}),"\n",(0,i.jsxs)(e.li,{children:["\u88e1\u9762\u5b58",(0,i.jsx)(e.strong,{children:"\u8a72\u4f7f\u7528\u8005"}),"\u6240\u6709\u6392\u7a0b\u4efb\u52d9"]}),"\n",(0,i.jsxs)(e.li,{children:["Ubuntu \u8def\u5f91\u901a\u5e38\u5728\n",(0,i.jsx)(e.code,{children:"/var/spool/cron/crontabs"})]}),"\n",(0,i.jsx)(e.li,{children:"\u53ea\u6709 root \u53ef\u4ee5\u76f4\u63a5\u5b58\u53d6"}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"2-crontab-\u6307\u4ee4",children:["2. ",(0,i.jsx)(e.strong,{children:"crontab \u6307\u4ee4"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7528\u4f86\u7ba1\u7406 crontab \u6a94\u6848\uff08\u65b0\u589e\u3001\u7de8\u8f2f\u3001\u522a\u9664\uff09"}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"3-\u7cfb\u7d71\u5c64\u7d1a\u7684-crontab-\u8a2d\u5b9a\u6a94",children:["3. ",(0,i.jsx)(e.strong,{children:"\u7cfb\u7d71\u5c64\u7d1a\u7684 crontab \u8a2d\u5b9a\u6a94"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u4f4d\u65bc ",(0,i.jsx)(e.code,{children:"/etc/crontab"})]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"3\ufe0f\u20e3-\u4f7f\u7528\u8005\u5c64\u7d1a-cron\u6700\u5e38\u7528",children:"3\ufe0f\u20e3 \u4f7f\u7528\u8005\u5c64\u7d1a CRON\uff08\u6700\u5e38\u7528\uff09"}),"\n",(0,i.jsx)(e.h5,{id:"\u5e38\u7528\u6307\u4ee4",children:"\u5e38\u7528\u6307\u4ee4"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u67e5\u770b\u76ee\u524d\u4f7f\u7528\u8005\u7684\u6392\u7a0b\n",(0,i.jsx)(e.code,{children:"crontab -l"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u7de8\u8f2f\u76ee\u524d\u4f7f\u7528\u8005\u7684\u6392\u7a0b\n",(0,i.jsx)(e.code,{children:"crontab -e"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u522a\u9664\u76ee\u524d\u4f7f\u7528\u8005\u7684\u6240\u6709\u6392\u7a0b\n",(0,i.jsx)(e.code,{children:"crontab -r"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["\u26a0\ufe0f ",(0,i.jsx)(e.strong,{children:"\u4e0d\u5efa\u8b70\u76f4\u63a5\u7528\u7de8\u8f2f\u5668\u6253\u958b\u6a94\u6848"})]}),"\n",(0,i.jsx)(e.p,{children:"\u539f\u56e0\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"crontab \u6307\u4ee4\u6703\u5e6b\u5fd9\u505a\u683c\u5f0f\u9a57\u8b49"}),"\n",(0,i.jsx)(e.li,{children:"\u907f\u514d\u8a9e\u6cd5\u932f\u8aa4\u5c0e\u81f4\u6574\u4efd\u6392\u7a0b\u5931\u6548"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"4\ufe0f\u20e3-cron-job-\u7684\u683c\u5f0f\u6838\u5fc3",children:"4\ufe0f\u20e3 CRON job \u7684\u683c\u5f0f\uff08\u6838\u5fc3\uff09"}),"\n",(0,i.jsxs)(e.p,{children:["\u6bcf\u4e00\u884c\u4ee3\u8868\u4e00\u500b\u4efb\u52d9\uff0c\u5171 ",(0,i.jsx)(e.strong,{children:"\u516d\u500b\u6b04\u4f4d"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u5206\u9418 \u5c0f\u6642 \u5e7e\u865f \u6708\u4efd \u661f\u671f \u6307\u4ee4\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u8aaa\u660e\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u524d\u4e94\u500b\u6b04\u4f4d \u2192 \u4ec0\u9ebc\u6642\u5019\u8dd1"}),"\n",(0,i.jsx)(e.li,{children:"\u6700\u5f8c\u4e00\u500b\u6b04\u4f4d \u2192 \u8981\u57f7\u884c\u4ec0\u9ebc"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u6642\u9593\u6b04\u4f4d\u610f\u7fa9\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5206\u9418\uff080\u201359\uff09"}),"\n",(0,i.jsx)(e.li,{children:"\u5c0f\u6642\uff080\u201323\uff0c24 \u5c0f\u6642\u5236\uff09"}),"\n",(0,i.jsx)(e.li,{children:"\u6bcf\u6708\u7b2c\u5e7e\u5929"}),"\n",(0,i.jsx)(e.li,{children:"\u6708\u4efd"}),"\n",(0,i.jsx)(e.li,{children:"\u661f\u671f\uff080 \u6216 7 \u4ee3\u8868\u661f\u671f\u65e5\uff09"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"5\ufe0f\u20e3-\u5e38\u898b\u7b26\u865f\u7528\u6cd5",children:"5\ufe0f\u20e3 \u5e38\u898b\u7b26\u865f\u7528\u6cd5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"*"}),"\n\u4ee3\u8868\u300c\u6bcf\u4e00\u500b\u300d\n\u4f8b\u5982\u6bcf\u5929\u3001\u6bcf\u5c0f\u6642\u3001\u6bcf\u5206\u9418"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:","}),"\n\u6307\u5b9a\u591a\u500b\u96e2\u6563\u503c\n\u4f8b\u5982\uff1a4,6,10 \u9ede"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"-"}),"\n\u6307\u5b9a\u7bc4\u570d\n\u4f8b\u5982\uff1a9 \u5230 17 \u9ede"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"/"}),"\n\u6307\u5b9a\u9593\u9694\n\u4f8b\u5982\uff1a\u6bcf 3 \u5929\u4e00\u6b21"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"6\ufe0f\u20e3-\u7bc4\u4f8b\u7406\u89e3\u7528\u767d\u8a71",children:"6\ufe0f\u20e3 \u7bc4\u4f8b\u7406\u89e3\uff08\u7528\u767d\u8a71\uff09"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6bcf\u5929\u65e9\u4e0a 6 \u9ede\u8dd1\u5099\u4efd"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5206\u9418 0"}),"\n",(0,i.jsx)(e.li,{children:"\u5c0f\u6642 6"}),"\n",(0,i.jsx)(e.li,{children:"\u5176\u4ed6\u6b04\u4f4d\u5168\u90e8\u7528 *"}),"\n",(0,i.jsx)(e.li,{children:"\u6307\u4ee4\u5beb\u5099\u4efd\u8173\u672c\u7684\u5b8c\u6574\u8def\u5f91"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u53ea\u5728\u661f\u671f\u65e5\u65e9\u4e0a 6 \u9ede\u8dd1"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u661f\u671f\u6b04\u4f4d\u586b 0 \u6216 7"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6bcf\u5206\u9418\u76e3\u63a7\u78c1\u789f\u7a7a\u9593"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5206\u9418\u7528 *"}),"\n",(0,i.jsx)(e.li,{children:"\u5176\u4ed6\u6642\u9593\u6b04\u4f4d\u7528 *"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u4e0a\u73ed\u65e5 9 \u9ede\u5230 17 \u9ede\uff0c\u6bcf\u5c0f\u6642\u8dd1"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5c0f\u6642\u7528 9-17"}),"\n",(0,i.jsx)(e.li,{children:"\u661f\u671f\u7528 1-5"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6bcf 3 \u5929\u5728\u56fa\u5b9a\u6642\u9593\u8dd1"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4f7f\u7528 */3"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"7\ufe0f\u20e3-\u7279\u6b8a\u95dc\u9375\u5b57\u4e0d\u7528\u8a18\u6578\u5b57",children:"7\ufe0f\u20e3 \u7279\u6b8a\u95dc\u9375\u5b57\uff08\u4e0d\u7528\u8a18\u6578\u5b57\uff09"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"@yearly"})," / ",(0,i.jsx)(e.code,{children:"@annually"}),"\n\u6bcf\u5e74 1 \u6708 1 \u65e5 00:00"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"@monthly"}),"\n\u6bcf\u6708 1 \u865f 00:00"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"@weekly"}),"\n\u6bcf\u9031\u65e5 00:00"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"@daily"}),"\n\u6bcf\u5929 00:00"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"@hourly"}),"\n\u6bcf\u5c0f\u6642\u6574\u9ede"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"@reboot"}),"\n\u7cfb\u7d71\u958b\u6a5f\u6642\u57f7\u884c"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"8\ufe0f\u20e3-\u5be6\u52d9\u9a57\u8b49\u65b9\u5f0f",children:"8\ufe0f\u20e3 \u5be6\u52d9\u9a57\u8b49\u65b9\u5f0f"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"CRON \u7684\u57f7\u884c\u7d00\u9304\u6703\u5beb\u5165\u7cfb\u7d71 log"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Ubuntu\uff1a",(0,i.jsx)(e.code,{children:"/var/log/syslog"})]}),"\n",(0,i.jsxs)(e.li,{children:["CentOS\uff1a",(0,i.jsx)(e.code,{children:"/var/log/cron"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u53ef\u7528\u5373\u6642\u8ffd\u8e64\u65b9\u5f0f\u78ba\u8a8d\u662f\u5426\u6709\u57f7\u884c"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"9\ufe0f\u20e3-\u7ba1\u7406\u5176\u4ed6\u4f7f\u7528\u8005\u7684-cronroot",children:"9\ufe0f\u20e3 \u7ba1\u7406\u5176\u4ed6\u4f7f\u7528\u8005\u7684 CRON\uff08root\uff09"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u7de8\u8f2f\u67d0\u4f7f\u7528\u8005\u7684\u6392\u7a0b\n",(0,i.jsx)(e.code,{children:"crontab -e -u \u4f7f\u7528\u8005"})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u522a\u9664\u67d0\u4f7f\u7528\u8005\u7684\u6392\u7a0b\n",(0,i.jsx)(e.code,{children:"crontab -r -u \u4f7f\u7528\u8005"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"-\u6b0a\u9650\u63a7\u5236",children:"\ud83d\udd1f \u6b0a\u9650\u63a7\u5236"}),"\n",(0,i.jsx)(e.admonition,{title:"Take care",type:"danger",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u900f\u904e\u5169\u500b\u6a94\u6848\u63a7\u5236\u8ab0\u80fd\u7528 crontab"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"cron.allow"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"cron.deny"})}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h4,{id:"1\ufe0f\u20e31\ufe0f\u20e3-\u7cfb\u7d71\u5c64\u7d1a-cronsystem-wide",children:"1\ufe0f\u20e31\ufe0f\u20e3 \u7cfb\u7d71\u5c64\u7d1a CRON\uff08system-wide\uff09"}),"\n",(0,i.jsx)(e.p,{children:"\u9664\u4e86\u4f7f\u7528\u8005 crontab\uff0c\u7cfb\u7d71\u9084\u6709\u9019\u4e9b\u76ee\u9304\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"/etc/cron.hourly"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"/etc/cron.daily"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"/etc/cron.weekly"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"/etc/cron.monthly"})}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u505a\u6cd5\u5f88\u55ae\u7d14\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u628a\u8173\u672c\u4e1f\u9032\u5c0d\u61c9\u76ee\u9304"}),"\n",(0,i.jsx)(e.li,{children:"\u7cfb\u7d71\u6703\u5728\u56fa\u5b9a\u6642\u9593\u4ee5 root \u8eab\u4efd\u57f7\u884c"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["\u5be6\u969b\u57f7\u884c\u6642\u9593\u7531 ",(0,i.jsx)(e.code,{children:"/etc/crontab"})," \u5b9a\u7fa9\n\u4f8b\u5982\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"weekly \u662f\u661f\u671f\u65e5\u65e9\u4e0a 6 \u9ede 47 \u5206"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\u4e09\u70ba\u4ec0\u9ebc\u9019\u6a23\u505awhy",children:"\u4e09\u3001\u70ba\u4ec0\u9ebc\u9019\u6a23\u505a\uff08Why\uff09"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"CRON \u662f\u300c\u6700\u57fa\u672c\u3001\u6700\u53ef\u9760\u300d\u7684 Linux \u81ea\u52d5\u5316\u5de5\u5177"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u4e0d\u9700\u8981\u984d\u5916\u5957\u4ef6"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u9069\u5408\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4f8b\u884c\u4efb\u52d9"}),"\n",(0,i.jsx)(e.li,{children:"\u4e0d\u9700\u8981\u5373\u6642\u53cd\u61c9\u7684\u5de5\u4f5c"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u4f46 ",(0,i.jsx)(e.strong,{children:"\u4e0d\u9069\u5408\u9ad8\u983b\uff08\u79d2\u7d1a\uff09\u4efb\u52d9"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6700\u5c0f\u55ae\u4f4d\u662f\u300c\u5206\u9418\u300d"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u53e6\u5916\u4e00\u500b\u91cd\u8981\u9650\u5236\uff1a"}),"\n",(0,i.jsxs)(e.admonition,{title:"Take care",type:"danger",children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"\u7cfb\u7d71\u95dc\u6a5f\u6642\uff0cCRON \u4e0d\u6703\u88dc\u8dd1"})}),"\n",(0,i.jsx)(e.li,{children:"\u6240\u4ee5\u9069\u5408\u300c\u4e00\u76f4\u958b\u6a5f\u7684\u4f3a\u670d\u5668\u300d"}),"\n"]}),(0,i.jsxs)(e.p,{children:["\u9019\u4e5f\u662f\u70ba\u4ec0\u9ebc\u4e0b\u4e00\u500b\u7b46\u8a18\u6703\u4ecb\u7d39 ",(0,i.jsx)(e.strong,{children:"anacron"}),"\u3002"]})]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\u56db\u95dc\u9375\u5b57",children:"\u56db\u3001\u95dc\u9375\u5b57"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"daemon\uff1a\u80cc\u666f\u670d\u52d9"}),"\n",(0,i.jsx)(e.li,{children:"CRON job\uff1a\u6392\u7a0b\u4efb\u52d9"}),"\n",(0,i.jsx)(e.li,{children:"crontab\uff1aCRON table"}),"\n",(0,i.jsx)(e.li,{children:"system-wide crontab\uff1a\u7cfb\u7d71\u5c64\u7d1a\u6392\u7a0b"}),"\n",(0,i.jsx)(e.li,{children:"absolute path\uff1a\u7d55\u5c0d\u8def\u5f91"}),"\n",(0,i.jsx)(e.li,{children:"environment variables\uff1a\u74b0\u5883\u8b8a\u6578"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u26a0\ufe0f \u6700\u5e38\u8e29\u96f7\uff1a"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"CRON \u7684 PATH \u8ddf\u4f60\u767b\u5165 shell \u7684 PATH \u4e0d\u4e00\u6a23\n\ud83d\udc49 \u6307\u4ee4\u4e00\u5b9a\u8981\u7528\u300c\u5b8c\u6574\u8def\u5f91\u300d"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h3,{id:"\u4e94\u6211\u500b\u4eba\u5c08\u6848\u60c5\u5883\u4f86\u8aaa",children:"\u4e94\u3001\u6211\u500b\u4eba\u5c08\u6848\u60c5\u5883\u4f86\u8aaa"}),"\n",(0,i.jsx)(e.p,{children:"\u5c0d\u6211\u7684\u5c08\u6848\u60c5\u5883\u4f86\u8aaa\uff0cCRON \u53ef\u4ee5\u7528\u5728\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6c42\u8077\u8cc7\u6599\u722c\u87f2\u300c\u6bcf\u5929\u5b9a\u6642\u66f4\u65b0\u300d"}),"\n",(0,i.jsx)(e.li,{children:"\u81ea\u52d5\u540c\u6b65 JSON \u2192 \u524d\u53f0\u7db2\u7ad9"}),"\n",(0,i.jsx)(e.li,{children:"\u5b9a\u671f\u5bc4\u9001\u8077\u7f3a\u6458\u8981\u5230 Email / LINE"}),"\n",(0,i.jsx)(e.li,{children:"\u6e05\u7406\u66ab\u5b58\u8cc7\u6599\u3001log"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u26a0\ufe0f \u4f46\u8a18\u4f4f\uff1a"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"CRON \u8ca0\u8cac\u300c\u7a69\u5b9a\u3001\u53ef\u9810\u671f\u7684\u6392\u7a0b\u300d\uff0c\n\u5373\u6642\u6027\u8207\u88dc\u8dd1\u4ea4\u7d66\u5176\u4ed6\u5de5\u5177\u8655\u7406\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"\u4e00\u53e5\u8a71\u7d50\u8ad6",children:"\u4e00\u53e5\u8a71\u7d50\u8ad6\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"cron"}),"\uff1a\u6e96\u6642\u57f7\u884c\u3001\u4e0d\u7ba1\u4f60\u5728\u4e0d\u5728"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"anacron"}),"\uff1a\u932f\u904e\u6c92\u95dc\u4fc2\uff0c\u4e4b\u5f8c\u4e00\u5b9a\u88dc\u8dd1"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"worker queue"}),"\uff1a\u4e8b\u60c5\u5f88\u591a\u3001\u4e0d\u6025\u8457\u5e7e\u9ede\u505a\uff0c\u4f46\u4e00\u5b9a\u8981\u505a\u5b8c"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{})]})}function o(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(j,{...n})}):j(n)}},8453(n,e,l){l.d(e,{R:()=>c,x:()=>d});var s=l(6540);const i={},r=s.createContext(i);function c(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);
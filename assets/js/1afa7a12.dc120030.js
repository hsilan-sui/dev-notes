"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[1071],{28453(e,n,r){r.d(n,{R:()=>l,x:()=>o});var s=r(96540);const t={},i=s.createContext(t);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}},97372(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"node_js/router-pattern","title":"\u3010Express_Router\u3011Router \u9032\u968e\u8a2d\u5b9a","description":"\ud83d\udfe7 \u6c92\u6709\u5340\u5206\u8def\u7531(Router)\u7684\u6642\u5019","source":"@site/docs/node_js/06-router-pattern.mdx","sourceDirName":"node_js","slug":"/node_js/router-pattern","permalink":"/dev-notes/docs/node_js/router-pattern","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/node_js/06-router-pattern.mdx","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"\u3010Express_Router\u3011Router \u9032\u968e\u8a2d\u5b9a","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"\u3010\u7db2\u8def_url\u898f\u5247\u3011\u7db2\u5740\u8def\u5f91\u898f\u5247","permalink":"/dev-notes/docs/node_js/url-pattern"},"next":{"title":"\u3010Express_middleware\u3011middleware \u7570\u5e38\u72c0\u614b\u8655\u7406","permalink":"/dev-notes/docs/node_js/middleware-design"}}');var t=r(74848),i=r(28453);const l={title:"\u3010Express_Router\u3011Router \u9032\u968e\u8a2d\u5b9a",sidebar_position:6},o=void 0,d={},c=[{value:"\ud83d\udfe7 \u6c92\u6709\u5340\u5206\u8def\u7531(Router)\u7684\u6642\u5019",id:"-\u6c92\u6709\u5340\u5206\u8def\u7531router\u7684\u6642\u5019",level:2},{value:"0\ufe0f\u20e3 \u6c92\u6709 Router \u7684\u4e16\u754c\uff08\u5c0f\u5c08\u6848\uff09",id:"0\ufe0f\u20e3-\u6c92\u6709-router-\u7684\u4e16\u754c\u5c0f\u5c08\u6848",level:3},{value:"1\ufe0f\u20e3 Router \u51fa\u73fe\u7684\u76ee\u7684",id:"1\ufe0f\u20e3-router-\u51fa\u73fe\u7684\u76ee\u7684",level:3},{value:"2\ufe0f\u20e3 \u62c6\u8def\u5f91\u5f8c",id:"2\ufe0f\u20e3-\u62c6\u8def\u5f91\u5f8c",level:3},{value:"3\ufe0f\u20e3 \u793a\u7bc4\uff1aexpress.js",id:"3\ufe0f\u20e3-\u793a\u7bc4expressjs",level:3}];function u(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components},{Highlight:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Highlight",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"-\u6c92\u6709\u5340\u5206\u8def\u7531router\u7684\u6642\u5019",children:"\ud83d\udfe7 \u6c92\u6709\u5340\u5206\u8def\u7531(Router)\u7684\u6642\u5019"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Router \u662f\u300c\u5c08\u9580\u7ba1\u7406\u8def\u5f91\u8207\u8655\u7406\u51fd\u5f0f\u7684\u5206\u985e\u5668\u300d"}),"\n",(0,t.jsx)(n.li,{children:"\u62c6\u8def\u5f91\u662f\u70ba\u4e86\u8b93\u7cfb\u7d71\u53ef\u8b80\u3001\u53ef\u7dad\u8b77\u3001\u53ef\u64f4\u5145"}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"0\ufe0f\u20e3-\u6c92\u6709-router-\u7684\u4e16\u754c\u5c0f\u5c08\u6848",children:"0\ufe0f\u20e3 \u6c92\u6709 Router \u7684\u4e16\u754c\uff08\u5c0f\u5c08\u6848\uff09"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"app.get('/events', ...)\napp.get('/events/:id', ...)\napp.post('/events', ...)\napp.get('/orders/:id', ...)\napp.post('/orders', ...)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u554f\u984c\u6703\u767c\u751f\u5728\uff1a","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6a94\u6848\u8d8a\u4f86\u8d8a\u9577"}),"\n",(0,t.jsx)(n.li,{children:"events / orders / users \u5168\u6df7\u5728\u4e00\u8d77"}),"\n",(0,t.jsx)(n.li,{children:"\u65b0\u4eba\u4f86\u770b\u4e0d\u61c2"}),"\n",(0,t.jsx)(n.li,{children:"\u627e\u4e0d\u5230\u8def\u7531"}),"\n",(0,t.jsx)(n.li,{children:"\u6539\u4e00\u500b\u529f\u80fd\u6015\u70b8\u5176\u4ed6"}),"\n",(0,t.jsx)(n.li,{children:"merge conflict \u7206\u70b8"}),"\n",(0,t.jsx)(n.li,{children:"\u7121\u6cd5\u6388\u6b0a\u7d66\u4e0d\u540c\u4eba\u7dad\u8b77"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"1\ufe0f\u20e3-router-\u51fa\u73fe\u7684\u76ee\u7684",children:"1\ufe0f\u20e3 Router \u51fa\u73fe\u7684\u76ee\u7684"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(r,{children:"\u628a\u300c\u540c\u4e00\u985e\u8cc7\u6e90\u7684\u8def\u5f91\u300d\u6536\u5728\u4e00\u8d77"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u662f\u7167 \u8cc7\u6e90\u908a\u754c \u62c6\uff1a","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"events"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"orders"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"users"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"payments"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Router \u662f\u4e00\u500b\u300c\u5b50\u8def\u7531\u8868\u300d"}),"\n",(0,t.jsx)(n.li,{children:"\u5c08\u9580\u8ca0\u8cac\u67d0\u4e00\u985e\u8cc7\u6e90\u7684\u8def\u5f91\u8207 handler \u5c0d\u61c9\u95dc\u4fc2"}),"\n"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Router \u505a\u4e09\u4ef6\u4e8b\uff1a","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5148\u5403\u6389\u5171\u540c\u524d\u7db4"}),"\n",(0,t.jsx)(n.li,{children:"\u5728\u81ea\u5df1\u7684\u7bc4\u570d\u5167\u518d\u914d\u5c0d\u8def\u5f91"}),"\n",(0,t.jsx)(n.li,{children:"\u628a\u8acb\u6c42\u4ea4\u7d66\u6b63\u78ba handler"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2\ufe0f\u20e3-\u62c6\u8def\u5f91\u5f8c",children:"2\ufe0f\u20e3 \u62c6\u8def\u5f91\u5f8c"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u53ef\u8b80\u6027"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"app.use('/events', eventRouter);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u6240\u6709\u6d3b\u52d5\u76f8\u95dc\u90fd\u5728 eventRouter"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u6b0a\u8cac\u6e05\u695a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Event \u5718\u968a \u2192 eventRouter"}),"\n",(0,t.jsx)(n.li,{children:"Order \u5718\u968a \u2192 orderRouter"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u4e2d\u4ecb\u5c64\u53ef\u4ee5\u5c40\u90e8\u5957\u7528"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"router.use(authMiddleware);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u53ea\u6709\u300cevents\u300d\u76f8\u95dc API \u624d\u9700\u8981\u9019\u500b\u9a57\u8b49"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"3\ufe0f\u20e3-\u793a\u7bc4expressjs",children:"3\ufe0f\u20e3 \u793a\u7bc4\uff1aexpress.js"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:'title="app.js"',children:"const express = require('express');\nconst app = express();\n\napp.get('/user/edit-profile', function(req, res) {\n  res.send('profile');\n})\n\napp.get('/user/photo', function(req, res) {\n  res.send('photo');\n})\n\napp.listen(3000);\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6211\u60f3\u8981\u628auser\u62c6\u6210\u7368\u7acbrouter"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:'title="app.js"',children:"const express = require('express');\nconst app = express();\n//\u5f15\u5165Router \u5b50\u8def\u7531\u8868\n\nconst userRouter = require('.routes/user');\n\n//app.use \u662f\u300c\u639b middleware \u6216 router \u7684\u5730\u65b9\u300d\n//\u610f\u601d\u662f\uff1a\u7b26\u5408\u689d\u4ef6\u7684\u8acb\u6c42\uff0c\u9032\u4f86\u4e00\u5b9a\u6703\u5148\u8dd1\u5b83\napp.use('/user', userRouter)\n\napp.listen(3000);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u62c6\u6210userRouter"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",metastring:'title="/routes/user.js"',children:"const express = require('express');\nconst router = express.Router();\n\nrouter.get('/edit-profile', function(req, res) {\n  res.send('profile');\n})\n\nrouter.get('/photo', function(req, res) {\n  res.send('photo');\n})\n\nmodule.exports = router;\n"})})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);
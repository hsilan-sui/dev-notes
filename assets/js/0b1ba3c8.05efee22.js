"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[41],{459(n,e,s){s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>r,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"JavaScript/hoisting-total","title":"\u3010Hoisting\u3011\u63d0\u5347\u7e3d\u7d50","description":"\u5c0d\u7167\u8868","source":"@site/docs/JavaScript/10-hoisting-total.mdx","sourceDirName":"JavaScript","slug":"/JavaScript/hoisting-total","permalink":"/dev-notes/docs/JavaScript/hoisting-total","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/JavaScript/10-hoisting-total.mdx","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"\u3010Hoisting\u3011\u63d0\u5347\u7e3d\u7d50","sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"\u3010Hoisting\u548cTDZ\u3011\u63d0\u5347 \u548c \u66ab\u6642\u6027\u6b7b\u5340","permalink":"/dev-notes/docs/JavaScript/hoisting"},"next":{"title":"System Design && Architecture","permalink":"/dev-notes/docs/category/system-design--architecture"}}');var l=s(4848),t=s(8453);const r={title:"\u3010Hoisting\u3011\u63d0\u5347\u7e3d\u7d50",sidebar_position:10},d=void 0,c={},h=[{value:"\u5c0d\u7167\u8868",id:"\u5c0d\u7167\u8868",level:3},{value:"\u7e3d\u6574\u7406\uff1a",id:"\u7e3d\u6574\u7406",level:2},{value:"1\ufe0f\u20e3 Creation Phase \u5728\u505a\u4ec0\u9ebc",id:"1\ufe0f\u20e3-creation-phase-\u5728\u505a\u4ec0\u9ebc",level:2},{value:"2\ufe0f\u20e3 Execution Phase \u5728\u505a\u4ec0\u9ebc",id:"2\ufe0f\u20e3-execution-phase-\u5728\u505a\u4ec0\u9ebc",level:2},{value:"3\ufe0f\u20e3 Hoisting \u653e\u5728\u54ea\u88e1\uff08\u95dc\u9375\uff09",id:"3\ufe0f\u20e3-hoisting-\u653e\u5728\u54ea\u88e1\u95dc\u9375",level:2},{value:"4\ufe0f\u20e3 \u975e\u540c\u6b65\u600e\u9ebc\u63a5\u9032\u4f86",id:"4\ufe0f\u20e3-\u975e\u540c\u6b65\u600e\u9ebc\u63a5\u9032\u4f86",level:2}];function o(n){const e={blockquote:"blockquote",h2:"h2",h3:"h3",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h3,{id:"\u5c0d\u7167\u8868",children:"\u5c0d\u7167\u8868"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u5ba3\u544a\u65b9\u5f0f"}),(0,l.jsx)(e.th,{children:"\u5275\u5efa\u968e\u6bb5\u662f\u5426\u767b\u8a18"}),(0,l.jsx)(e.th,{children:"\u521d\u59cb\u72c0\u614b"}),(0,l.jsx)(e.th,{children:"\u662f\u5426\u5b58\u5728 TDZ"}),(0,l.jsx)(e.th,{children:"\u57f7\u884c\u524d\u53ef\u5426\u4f7f\u7528"}),(0,l.jsx)(e.th,{children:"Hoisting \u884c\u70ba\u8aaa\u660e"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"var"}),(0,l.jsx)(e.td,{children:"\u6709"}),(0,l.jsx)(e.td,{children:"undefined"}),(0,l.jsx)(e.td,{children:"\u274c \u7121"}),(0,l.jsx)(e.td,{children:"\u2705 \u53ef\u4ee5"}),(0,l.jsx)(e.td,{children:"\u5ba3\u544a\u88ab hoisting\uff0c\u521d\u59cb\u5316\u70ba undefined"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"function \u9673\u8ff0\u5f0f"}),(0,l.jsx)(e.td,{children:"\u6709"}),(0,l.jsx)(e.td,{children:"\u6574\u500b\u51fd\u5f0f"}),(0,l.jsx)(e.td,{children:"\u274c \u7121"}),(0,l.jsx)(e.td,{children:"\u2705 \u53ef\u4ee5"}),(0,l.jsx)(e.td,{children:"\u51fd\u5f0f\u672c\u9ad4\u88ab\u5b8c\u6574 hoisting"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"let"}),(0,l.jsx)(e.td,{children:"\u6709"}),(0,l.jsx)(e.td,{children:"\u672a\u521d\u59cb\u5316"}),(0,l.jsx)(e.td,{children:"\u2705 \u6709"}),(0,l.jsx)(e.td,{children:"\u274c \u4e0d\u884c"}),(0,l.jsx)(e.td,{children:"\u5ba3\u544a\u88ab hoisting\uff0c\u4f46\u53d7 TDZ \u9650\u5236"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"const"}),(0,l.jsx)(e.td,{children:"\u6709"}),(0,l.jsx)(e.td,{children:"\u672a\u521d\u59cb\u5316"}),(0,l.jsx)(e.td,{children:"\u2705 \u6709"}),(0,l.jsx)(e.td,{children:"\u274c \u4e0d\u884c"}),(0,l.jsx)(e.td,{children:"\u5ba3\u544a\u88ab hoisting\uff0c\u4f46\u53d7 TDZ \u9650\u5236"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"function \u8868\u9054\u5f0f"}),(0,l.jsx)(e.td,{children:"\u53ea\u6709\u8b8a\u6578"}),(0,l.jsx)(e.td,{children:"undefined"}),(0,l.jsx)(e.td,{children:"\u274c \u7121"}),(0,l.jsx)(e.td,{children:"\u274c \u4e0d\u884c"}),(0,l.jsx)(e.td,{children:"\u53ea\u6709\u8b8a\u6578\u88ab hoisting\uff0c\u51fd\u5f0f\u4e0d\u662f"})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"\u7e3d\u6574\u7406",children:"\u7e3d\u6574\u7406\uff1a"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Creation \u8ddf Execution \u5dee\u5728\u54ea"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Hoisting \u662f\u5728\u54ea\u500b\u968e\u6bb5\u767c\u751f"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"\u975e\u540c\u6b65\u600e\u9ebc\u900f\u904e Event Loop \u63a5\u9032\u4f86"})}),"\n"]}),"\n",(0,l.jsx)(e.mermaid,{value:'flowchart TB\n    %% ===== \u5206\u5c64\u5340\u584a =====\n    subgraph JS\u5f15\u64ce\n        direction TB\n\n        subgraph \u547c\u53eb\u5806\u758a\n            GEC["\u5168\u57df\u57f7\u884c\u74b0\u5883"]\n\n            subgraph \u5efa\u7acb\u968e\u6bb5\n                VE["\u5efa\u7acb\u8b8a\u6578\u74b0\u5883"]\n                SC["\u5efa\u7acb\u4f5c\u7528\u57df\u93c8"]\n                THIS["\u8a2d\u5b9a this"]\n                HOIST["Hoisting \u5c07\u5ba3\u544a\u653e\u5165\u74b0\u5883"]\n            end\n\n            subgraph \u57f7\u884c\u968e\u6bb5\n                RUN["\u9010\u884c\u57f7\u884c\u7a0b\u5f0f"]\n                ASSIGN["\u8b8a\u6578\u8ce6\u503c"]\n                CALL["\u51fd\u5f0f\u547c\u53eb"]\n            end\n        end\n    end\n\n    subgraph \u700f\u89bd\u5668\u6216\u7cfb\u7d71API\n        API["\u975e\u540c\u6b65\u4efb\u52d9\u8a3b\u518a"]\n    end\n\n    subgraph \u4efb\u52d9\u4f47\u5217\n        MACRO["\u4e00\u822c\u4efb\u52d9\u4f47\u5217"]\n        MICRO["\u5fae\u4efb\u52d9\u4f47\u5217"]\n    end\n\n    LOOP["\u4e8b\u4ef6\u5faa\u74b0"]\n\n    %% ===== \u6d41\u7a0b\u9023\u7dda =====\n    GEC --\x3e VE\n    VE --\x3e SC\n    SC --\x3e THIS\n    THIS --\x3e HOIST\n    HOIST --\x3e RUN\n\n    RUN --\x3e ASSIGN\n    RUN --\x3e CALL\n\n    CALL --\x3e API\n    API --\x3e MACRO\n    API --\x3e MICRO\n\n    LOOP --\x3e MICRO\n    MICRO --\x3e RUN\n\n    LOOP --\x3e MACRO\n    MACRO --\x3e RUN\n\n    %% ===== \u6a23\u5f0f\u5b9a\u7fa9 =====\n    classDef engine fill:#E3F2FD,stroke:#1565C0,stroke-width:2px\n    classDef phase fill:#FFF3E0,stroke:#EF6C00,stroke-width:2px\n    classDef api fill:#E8F5E9,stroke:#2E7D32,stroke-width:2px\n    classDef queue fill:#F3E5F5,stroke:#6A1B9A,stroke-width:2px\n    classDef loop fill:#FCE4EC,stroke:#AD1457,stroke-width:2px\n\n    %% ===== \u5957\u7528\u6a23\u5f0f =====\n    class GEC,\u547c\u53eb\u5806\u758a engine\n    class VE,SC,THIS,HOIST,\u5efa\u7acb\u968e\u6bb5,\u57f7\u884c\u968e\u6bb5 phase\n    class API api\n    class MACRO,MICRO queue\n    class LOOP loop'}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"1\ufe0f\u20e3-creation-phase-\u5728\u505a\u4ec0\u9ebc",children:"1\ufe0f\u20e3 Creation Phase \u5728\u505a\u4ec0\u9ebc"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Do"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5efa\u7acb\u8b8a\u6578\u74b0\u5883"}),"\n",(0,l.jsx)(e.li,{children:"\u653e\u5165\u51fd\u5f0f\u5ba3\u544a"}),"\n",(0,l.jsx)(e.li,{children:"\u521d\u59cb\u5316\u8b8a\u6578\u70ba undefined"}),"\n",(0,l.jsx)(e.li,{children:"\u6c7a\u5b9a this"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"How"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6383\u63cf\u6574\u4efd\u7a0b\u5f0f"}),"\n",(0,l.jsx)(e.li,{children:"\u4e0d\u57f7\u884c\u4efb\u4f55\u4e00\u884c"}),"\n",(0,l.jsx)(e.li,{children:"\u53ea\u505a\u300c\u5ba3\u544a\u5c64\u7d1a\u300d\u7684\u6e96\u5099"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Why"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8b93\u7a0b\u5f0f\u5728\u57f7\u884c\u524d\u5c31\u77e5\u9053\u300c\u6709\u54ea\u4e9b\u540d\u5b57\u53ef\u4ee5\u7528\u300d"}),"\n",(0,l.jsx)(e.li,{children:"\u9019\u5c31\u662f hoisting \u80fd\u767c\u751f\u7684\u539f\u56e0"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"2\ufe0f\u20e3-execution-phase-\u5728\u505a\u4ec0\u9ebc",children:"2\ufe0f\u20e3 Execution Phase \u5728\u505a\u4ec0\u9ebc"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Do"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9010\u884c\u57f7\u884c\u7a0b\u5f0f"}),"\n",(0,l.jsx)(e.li,{children:"\u6307\u6d3e\u8b8a\u6578\u5be6\u969b\u503c"}),"\n",(0,l.jsx)(e.li,{children:"\u547c\u53eb\u51fd\u5f0f"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"How"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5f15\u64ce\u4e00\u884c\u4e00\u884c\u8dd1"}),"\n",(0,l.jsx)(e.li,{children:"\u9047\u5230\u975e\u540c\u6b65\u5c31\u4e1f\u7d66\u5916\u90e8 API"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Why"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u771f\u6b63\u7522\u751f\u884c\u70ba\u8207\u7d50\u679c"}),"\n",(0,l.jsx)(e.li,{children:"console.log \u6703\u5728\u9019\u88e1\u624d\u5370"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"3\ufe0f\u20e3-hoisting-\u653e\u5728\u54ea\u88e1\u95dc\u9375",children:"3\ufe0f\u20e3 Hoisting \u653e\u5728\u54ea\u88e1\uff08\u95dc\u9375\uff09"}),"\n",(0,l.jsxs)(e.p,{children:["\ud83d\udc49 ",(0,l.jsx)(e.strong,{children:"Hoisting \u662f Creation Phase \u7684\u4e00\u90e8\u5206"})]}),"\n",(0,l.jsx)(e.p,{children:"\u4e0d\u662f\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Event Loop"}),"\n",(0,l.jsx)(e.li,{children:"Execution Phase"}),"\n",(0,l.jsx)(e.li,{children:"\u975e\u540c\u6b65"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u800c\u662f\uff1a"}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u5efa\u7acb\u57f7\u884c\u74b0\u5883\u6642\uff0c\u5148\u628a\u5ba3\u544a\u653e\u9032\u8b8a\u6578\u74b0\u5883"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"4\ufe0f\u20e3-\u975e\u540c\u6b65\u600e\u9ebc\u63a5\u9032\u4f86",children:"4\ufe0f\u20e3 \u975e\u540c\u6b65\u600e\u9ebc\u63a5\u9032\u4f86"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Do"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"setTimeout \u6216 Promise \u88ab\u8a3b\u518a"}),"\n",(0,l.jsx)(e.li,{children:"\u56de\u547c\u88ab\u6392\u9032\u4f47\u5217"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"How"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u700f\u89bd\u5668\u6216\u7cfb\u7d71 API \u8655\u7406\u7b49\u5f85"}),"\n",(0,l.jsx)(e.li,{children:"\u5b8c\u6210\u5f8c\u653e\u9032\u4efb\u52d9\u4f47\u5217"}),"\n",(0,l.jsx)(e.li,{children:"Event Loop \u6c7a\u5b9a\u4ec0\u9ebc\u6642\u5019\u4e1f\u56de Call Stack"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Why"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u907f\u514d\u963b\u585e\u4e3b\u57f7\u884c\u7dd2"}),"\n",(0,l.jsx)(e.li,{children:"\u8b93 JS \u53ef\u4ee5\u55ae\u57f7\u884c\u7dd2\u537b\u80fd\u8655\u7406\u591a\u5de5"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"JavaScript \u5728\u57f7\u884c\u524d\u6703\u5148\u9032\u5165\u5efa\u7acb\u968e\u6bb5\uff0c\u5efa\u7acb\u57f7\u884c\u74b0\u5883\u3001\u8b8a\u6578\u74b0\u5883\u8207\u4f5c\u7528\u57df\u93c8\uff0c\u4e26\u5728\u6b64\u968e\u6bb5\u5b8c\u6210 hoisting"}),"\n"]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u63a5\u8457\u9032\u5165\u57f7\u884c\u968e\u6bb5\u9010\u884c\u57f7\u884c\u7a0b\u5f0f\uff0c\u82e5\u9047\u5230\u975e\u540c\u6b65\u64cd\u4f5c\u5247\u4ea4\u7531\u700f\u89bd\u5668\u6216\u7cfb\u7d71 API \u8655\u7406\uff0c\u5b8c\u6210\u5f8c\u900f\u904e\u4e8b\u4ef6\u5faa\u74b0\u5c07\u4efb\u52d9\u653e\u56de\u547c\u53eb\u5806\u758a\u57f7\u884c\u3002"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.mermaid,{value:'flowchart TB\n    %% ===== JS \u5f15\u64ce\u5340 =====\n    subgraph JS\u5f15\u64ce\n        direction TB\n\n        subgraph \u547c\u53eb\u5806\u758a\n            RUN["\u540c\u6b65\u7a0b\u5f0f\u57f7\u884c"]\n            ASYNC["\u9047\u5230\u975e\u540c\u6b65\u64cd\u4f5c"]\n            BACK["\u56de\u5230\u540c\u6b65\u6d41\u7a0b"]\n        end\n    end\n\n    %% ===== \u7cfb\u7d71 API =====\n    subgraph \u700f\u89bd\u5668\u6216\u7cfb\u7d71API\n        TIMER["\u8a08\u6642\u5668\u7b49\u5f85"]\n        PROMISEJOB["Promise \u72c0\u614b\u5b8c\u6210"]\n    end\n\n    %% ===== \u4efb\u52d9\u4f47\u5217 =====\n    subgraph \u4efb\u52d9\u4f47\u5217\n        MICRO["\u5fae\u4efb\u52d9\u4f47\u5217"]\n        MACRO["\u4e00\u822c\u4efb\u52d9\u4f47\u5217"]\n    end\n\n    LOOP["\u4e8b\u4ef6\u5faa\u74b0"]\n\n    %% ===== \u6d41\u7a0b =====\n    RUN --\x3e ASYNC\n\n    ASYNC --\x3e TIMER\n    ASYNC --\x3e PROMISEJOB\n\n    TIMER --\x3e MACRO\n    PROMISEJOB --\x3e MICRO\n\n    BACK --\x3e LOOP\n\n    LOOP --\x3e MICRO\n    MICRO --\x3e RUN\n\n    LOOP --\x3e MACRO\n    MACRO --\x3e RUN\n\n    %% ===== \u6a23\u5f0f =====\n    classDef engine fill:#E3F2FD,stroke:#1565C0,stroke-width:2px\n    classDef api fill:#E8F5E9,stroke:#2E7D32,stroke-width:2px\n    classDef queue fill:#F3E5F5,stroke:#6A1B9A,stroke-width:2px\n    classDef loop fill:#FCE4EC,stroke:#AD1457,stroke-width:2px\n\n    class RUN,ASYNC,BACK engine\n    class TIMER,PROMISEJOB api\n    class MICRO,MACRO queue\n    class LOOP loop\n'})]})}function x(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},8453(n,e,s){s.d(e,{R:()=>r,x:()=>d});var i=s(6540);const l={},t=i.createContext(l);function r(n){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:r(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);
"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[4406],{2394(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"LINEOA-PORFOLIO/overview","title":"LINE OA \u4e92\u52d5\u4f5c\u54c1\u96c6\uff1a\u7aef\u5230\u7aef\u7e3d\u89bd\uff08FastAPI \xd7 Worker \xd7 Push\uff09","description":"\u6211\u4e5f\u8d81\u525b\u505a\u597d80\uff05\u7684LINE OA\u4f86\u6574\u7406\u4e00\u4e0b\u6563\u843d\u5728HackMD\u7684\u7b46\u8a18\uff0c\u7e3d\u5408\uff1a\u6211\u5728\u505a\u5c08\u6848\u7684\u649e\u7246\u8207\u5982\u4f55\u7522\u51fa\u7684\u904e\u7a0b\uff01\uff01\uff01","source":"@site/docs/LINEOA-PORFOLIO/00-overview.mdx","sourceDirName":"LINEOA-PORFOLIO","slug":"/LINEOA-PORFOLIO/overview","permalink":"/dev-notes/docs/LINEOA-PORFOLIO/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/LINEOA-PORFOLIO/00-overview.mdx","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"LINE OA \u4e92\u52d5\u4f5c\u54c1\u96c6\uff1a\u7aef\u5230\u7aef\u7e3d\u89bd\uff08FastAPI \xd7 Worker \xd7 Push\uff09","sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"LINEOA-PORFOLIO","permalink":"/dev-notes/docs/category/lineoa-porfolio"},"next":{"title":"\u4f7f\u7528\u8005\u600e\u9ebc\u64cd\u4f5c\u6211\u7684LINE OA \u4e92\u52d5\u4f5c\u54c1\u96c6","permalink":"/dev-notes/docs/LINEOA-PORFOLIO/commands-and-ux"}}');var s=r(4848),o=r(8453);const i={title:"LINE OA \u4e92\u52d5\u4f5c\u54c1\u96c6\uff1a\u7aef\u5230\u7aef\u7e3d\u89bd\uff08FastAPI \xd7 Worker \xd7 Push\uff09",sidebar_position:0},d=void 0,c={},t=[{value:"TL;DR",id:"tldr",level:2},{value:"\u6211\u7684\u9700\u6c42\uff08\u6211\u60f3\u505a\u5230\u4ec0\u9ebc\uff09",id:"\u6211\u7684\u9700\u6c42\u6211\u60f3\u505a\u5230\u4ec0\u9ebc",level:2},{value:"Do what\uff08\u6211\u505a\u4e86\u4ec0\u9ebc\uff09",id:"do-what\u6211\u505a\u4e86\u4ec0\u9ebc",level:2},{value:"How\uff08\u600e\u9ebc\u8dd1\u3001\u600e\u9ebc Demo\uff09",id:"how\u600e\u9ebc\u8dd1\u600e\u9ebc-demo",level:2},{value:"\u4f7f\u7528\u8005\u64cd\u4f5c\uff08Demo Path\uff09",id:"\u4f7f\u7528\u8005\u64cd\u4f5cdemo-path",level:3},{value:"\u6d41\u7a0b\u5716\uff08\u7aef\u5230\u7aef\uff09",id:"\u6d41\u7a0b\u5716\u7aef\u5230\u7aef",level:2},{value:"====",id:"",level:3},{value:"d",id:"d",level:3}];function a(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u6211\u4e5f\u8d81\u525b\u505a\u597d80\uff05\u7684LINE OA\u4f86\u6574\u7406\u4e00\u4e0b\u6563\u843d\u5728HackMD\u7684\u7b46\u8a18\uff0c\u7e3d\u5408\uff1a\u6211\u5728\u505a\u5c08\u6848\u7684\u649e\u7246\u8207\u5982\u4f55\u7522\u51fa\u7684\u904e\u7a0b\uff01\uff01\uff01"}),"\n",(0,s.jsx)(n.p,{children:"\u90a3\u6211\u5728\u4f7f\u7528AI\u5de5\u5177\u6642\uff0c\u6211\u662f\u6703\u9700\u8981\u5b9a\u7fa9\u6e05\u695a\uff0c\u9700\u6c42\u662f\u4ec0\u9ebc\uff1fdo what? how to do? why? \u6709\u4f4e\u6210\u672c \u6216 \u9ad8\u6210\u672c /\u66f4\u7a69\u5b9a\u7684\u4f5c\u6cd5\u55ce\uff1f \u7576\u767c\u6563\u7684\u6642\u5019\uff0c\u6211\u6703\u900f\u904emermaid \u5728\u6536\u6582\u56de\u4f86\uff0c\u4f46\u662f\u767c\u6563\u771f\u7684\u662f\u5f88\u5e38\u898b\uff01"}),"\n",(0,s.jsx)(n.h2,{id:"tldr",children:"TL;DR"}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u500b LINE OA \u662f\u6211\u7684\u300c\u4e92\u52d5\u5f0f\u4f5c\u54c1\u96c6\u5165\u53e3\u300d\uff1a\u4f60\u5728 LINE \u8f38\u5165\u6307\u4ee4\uff08\u4f5c\u54c1\u96c6\uff0f\u5730\u653f\u67e5\u8a62\uff0f\u5fc3\u7406\u8aee\u5546\uff09\uff0cFastAPI \u6703\u5224\u65b7\u4f60\u8981\u505a\u4ec0\u9ebc\u3002",(0,s.jsx)(n.br,{}),"\n","\u5176\u4e2d ",(0,s.jsx)(n.strong,{children:"\u5730\u653f\u67e5\u8a62"})," \u56e0\u70ba\u8981\u8dd1 Playwright\u3001\u9084\u8981\u7522\u5716\uff0b\u516c\u958b\u7db2\u5740\uff0c\u6240\u4ee5\u8d70 ",(0,s.jsx)(n.strong,{children:"Queue \u2192 Worker \u2192 R2 \u2192 Cloudflare Worker \u2192 Push"}),"\uff1b",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"\u5fc3\u7406\u8aee\u5546"})," \u5c31\u6bd4\u8f03\u55ae\u7d14\uff1a\u6211\u5df2\u7d93\u628a\u524d\u6bb5\u7684\u8cc7\u6599\u722c\u53d6\u7d93\u7def\u5ea6\u5c07\u8cc7\u6599\u6e05\u6d17\u6574\u7406\u6210\u4e7e\u6de8\u7684 ",(0,s.jsx)(n.code,{children:"clinics.j\u3117son"}),"\uff0c\u4e8b\u524d\u662f\u505a\u597dNext\u67b6\u8a2d\u975c\u614b\u7db2\u7ad9\uff0c\u505a\u70ba\u516c\u76ca\u7db2\u7ad9\uff0c\u65b9\u4fbf\u9700\u8981\u7684\u6c11\u773e\u67e5\u8a62\uff0c\u90a3\u9019\u88e1\u63a5\u5230Line\u7aef\u76f4\u63a5\u7d44 Flex \u56de\u8986\u3002"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u6211\u7684\u9700\u6c42\u6211\u60f3\u505a\u5230\u4ec0\u9ebc",children:"\u6211\u7684\u9700\u6c42\uff08\u6211\u60f3\u505a\u5230\u4ec0\u9ebc\uff09"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u60f3\u8b93\u4eba\u8cc7/ \u9762\u8a66\u5b98 ",(0,s.jsx)(n.strong,{children:"\u4e0d\u53ea\u770b\u786c\u751f\u751f\u7684pdf\u96fb\u5b50\u5c65\u6b77"}),"\uff0c\u800c\u662f\u76f4\u63a5\u52a0\u597d\u53cb\u5c31\u80fd\u64cd\u4f5c\u6211\u7684\u5c08\u6848Demo"]}),"\n",(0,s.jsx)(n.li,{children:"\u9577\u4efb\u52d9\uff08\u5730\u653f\u67e5\u8a62\uff09\u4e0d\u6703\u5361\u4f4f\uff1a\u5148\u56de\u300c\u6536\u5230\u300d\uff0c\u5b8c\u6210\u518d\u63a8\u64ad\u7d50\u679c\uff08\u6210\u529f\u6216\u5931\u6557\u90fd\u6703\u56de\uff09"}),"\n",(0,s.jsx)(n.li,{children:"Flex UI \u505a\u6210\u6a21\u7d44\uff1a\u672a\u4f86\u8981\u52a0\u65b0 demo\uff08\u50cf AI-agent\uff09\u53ef\u4ee5\u5f88\u5feb\u64f4\u5145"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"do-what\u6211\u505a\u4e86\u4ec0\u9ebc",children:"Do what\uff08\u6211\u505a\u4e86\u4ec0\u9ebc\uff09"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u505a\u4e86\u4e00\u500b LINE OA \u7576\u4f5c\u54c1\u96c6\u5165\u53e3\uff1a",(0,s.jsx)(n.code,{children:"\u4f5c\u54c1\u96c6"})," \u6703\u51fa\u73fe\u5361\u7247/\u6309\u9215\u8b93\u4eba\u9ede"]}),"\n",(0,s.jsxs)(n.li,{children:["\u628a\u300c\u5730\u653f\u67e5\u8a62\u300d\u62c6\u6210\u975e\u540c\u6b65\u6d41\u7a0b\uff1a",(0,s.jsx)(n.strong,{children:"FastAPI \u4e0d\u8dd1 Playwright"}),"\uff0c\u53ea\u8ca0\u8cac\u6536\u8a0a\u606f\u8207\u6d3e\u5de5"]}),"\n",(0,s.jsxs)(n.li,{children:["Worker \u7522\u51fa\u7684\u5730\u5716\u5716\u7247\u4e0a\u50b3\u5230 ",(0,s.jsx)(n.strong,{children:"Cloudflare R2"}),"\uff0c\u78ba\u4fdd LINE \u53ef\u7528 ",(0,s.jsx)(n.strong,{children:"\u516c\u958b\u5716\u7247 URL"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u6700\u5f8c\u7531 ",(0,s.jsx)(n.strong,{children:"Cloudflare Worker"})," \u7d71\u4e00\u6c7a\u5b9a\u63a8\u64ad\u6210\u529f/\u5931\u6557\u5361\uff08\u7248\u578b\u4e5f\u96c6\u4e2d\u7ba1\u7406\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"how\u600e\u9ebc\u8dd1\u600e\u9ebc-demo",children:"How\uff08\u600e\u9ebc\u8dd1\u3001\u600e\u9ebc Demo\uff09"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528\u8005\u64cd\u4f5cdemo-path",children:"\u4f7f\u7528\u8005\u64cd\u4f5c\uff08Demo Path\uff09"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u52a0\u5165\u597d\u53cb \u2192 \u8f38\u5165 ",(0,s.jsx)(n.code,{children:"\u4f5c\u54c1\u96c6"}),"\uff08\u6216\u9ede\u9078 Flex \u6309\u9215\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:["\u9ede ",(0,s.jsx)(n.code,{children:"\u5730\u653f\u67e5\u8a62"})," / ",(0,s.jsx)(n.code,{children:"\u5fc3\u7406\u8aee\u5546"})]}),"\n",(0,s.jsxs)(n.li,{children:["FastAPI \u5148 ",(0,s.jsx)(n.code,{children:"reply"}),"\uff1a\u6211\u6536\u5230\u56c9\uff08\u907f\u514d\u5361\u4f4f\u3001\u4e5f\u907f\u514d reply token \u8d85\u6642\uff09"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u53ea\u6709\u5730\u653f"}),"\u6703\u6d3e\u5de5\uff1a\u4e1f job \u9032 Upstash Redis\uff08BullMQ queue\uff09"]}),"\n",(0,s.jsx)(n.li,{children:"Node worker \u8dd1 Playwright \u2192 \u7522\u5716 \u2192 \u4e0a\u50b3 R2 \u2192 \u56de\u5831 CF worker"}),"\n",(0,s.jsxs)(n.li,{children:["CF worker \u7d71\u4e00 ",(0,s.jsx)(n.code,{children:"push"})," \u7d50\u679c\u5361\uff08\u6210\u529f / \u5931\u6557\uff09"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\u6d41\u7a0b\u5716\u7aef\u5230\u7aef",children:"\u6d41\u7a0b\u5716\uff08\u7aef\u5230\u7aef\uff09"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6211\u975e\u5e38\u4f9d\u8cf4\u6d41\u7a0b\u8996\u89ba\u5316\uff0c\u96d6\u7136\u662f\u4e00\u6bb5\u4e00\u6bb5\u649e\u51fa\u4f86\u7684\uff0c\u4f46\u662f\u7e3d\u89bd\u5f8c\u6703\u89ba\u5f97\u5f88\u7f8e\u597dXD"}),"\n"]}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart TD\n\nsubgraph L1[Layer 1\uff1a\u4f7f\u7528\u8005\u5165\u53e3\uff08LINE\uff09]\nU[User\\n\u8f38\u5165\u6307\u4ee4/\u9ede\u9078\u9078\u55ae\\n\u4f5c\u54c1\u96c6 / \u5730\u653f\u67e5\u8a62 / \u5fc3\u7406\u8aee\u5546]\nend\n\nsubgraph L2[Layer 2\uff1aLINE \u5e73\u53f0]\nLINE[LINE Messaging API\\nWebhook / Reply / Push]\nend\n\nsubgraph L3[Layer 3\uff1a\u5f8c\u7aef API\uff08FastAPI / LINE OA\uff09]\nAPI[Webhook Router\\nclassify_input \u2192 handler]\nC{\u6307\u4ee4\u985e\u578b\uff1f}\nFLEX[Flex Builder\\nmenu/portfolio/landinfo/counseling]\nREPLY[Reply Message\\n\u7acb\u5373\u56de\u8986\uff08\u5df2\u6536\u5230/\u7d50\u679c\uff09]\nend\n\nsubgraph L4A[Layer 4A\uff1a\u5730\u653f\u67e5\u8a62\uff08\u8017\u6642\uff09- \u975e\u540c\u6b65\u6d3e\u5de5]\nNS[Node server.js\\n\u6d3e\u5de5 API\uff08Producer\uff09]\nQ[Upstash Redis\\nBullMQ Queue\uff08Job Storage\uff09]\nNW[Node worker\\nBullMQ Consumer + Playwright]\nGOV[(\u653f\u5e9c/\u5916\u90e8\u5730\u653f\u7cfb\u7d71)]\nR2[(Cloudflare R2\\n\u5716\u7247/\u9644\u4ef6\u5b58\u653e)]\nCFW[Cloudflare Worker\\nResult Aggregator + LINE Push]\nend\n\nsubgraph L4B[Layer 4B\uff1a\u5fc3\u7406\u8aee\u5546\uff08\u975c\u614b\u8cc7\u6599\uff09]\nJSON[(clinics.json\\n\u5df2\u6e05\u6d17 + \u7d93\u7def\u5ea6)]\nend\n\nsubgraph L5[Infra\uff1aCloudflared Tunnel]\nTUN[Cloudflared Tunnel\\n\u516c\u958b Node endpoint\uff08dev/demo\uff09]\nend\n\nU --\x3e LINE --\x3e API --\x3e C\n\n%% \u5fc3\u7406\u8aee\u5546\uff1a\u5c31\u8b80 JSON\uff0c\u56de\u8986\u5c31\u597d\uff08\u7c21\u55ae\uff09\nC --\x3e|\u5fc3\u7406\u8aee\u5546| JSON --\x3e FLEX --\x3e REPLY --\x3e LINE --\x3e U\n\n%% \u5730\u653f\uff1a\u6bd4\u8f03\u786c\uff0c\u8d70 queue + worker + r2 + cf worker\nC --\x3e|\u5730\u653f\u67e5\u8a62| REPLY --\x3e LINE --\x3e U\nC --\x3e|\u5730\u653f\u67e5\u8a62| NS --\x3e Q --\x3e NW --\x3e GOV --\x3e NW\nNW --\x3e|\u4e0a\u50b3\u5730\u5716/\u5716\u7247| R2\nNW --\x3e|\u56de\u5831\u7d50\u679c\uff08\u6210\u529f/\u5931\u6557 + R2 key/url\uff09| CFW\nCFW --\x3e|Push Flex \u7d50\u679c\u5361| LINE --\x3e U\n\n%% Cloudflared\uff1ademo \u968e\u6bb5\u628a Node endpoint \u66b4\u9732\u51fa\u53bb\nNS -. \u516c\u958b\u670d\u52d9\u5165\u53e3 .-> TUN\nTUN -. \u5916\u90e8\u53ef\u547c\u53eb Node endpoint .-> NS\n\nclassDef user fill:#E8F5E9,stroke:#2E7D32,stroke-width:1px,color:#1B5E20;\nclassDef line fill:#E3F2FD,stroke:#1565C0,stroke-width:1px,color:#0D47A1;\nclassDef api fill:#FFF3E0,stroke:#EF6C00,stroke-width:1px,color:#E65100;\n\nclassDef node fill:#F3E5F5,stroke:#6A1B9A,stroke-width:1px,color:#4A148C;\nclassDef queue fill:#FFFDE7,stroke:#F9A825,stroke-width:1px,color:#F57F17;\n\nclassDef cf fill:#FFE0B2,stroke:#FB8C00,stroke-width:1px,color:#E65100;\nclassDef r2 fill:#FFF8E1,stroke:#FFB300,stroke-width:1px,color:#E65100;\n\nclassDef data fill:#ECEFF1,stroke:#455A64,stroke-width:1px,color:#263238;\nclassDef tunnel fill:#E0F2F1,stroke:#00796B,stroke-width:1px,color:#004D40;\n\nclass U user;\nclass LINE line;\nclass API,C,FLEX,REPLY api;\n\nclass NS,NW node;\nclass Q queue;\n\nclass CFW cf;\nclass R2 r2;\n\nclass GOV,JSON data;\nclass TUN tunnel;\n"}),"\n",(0,s.jsx)(n.h3,{id:"",children:"===="}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u73fe\u5728\u9019\u5957\u7b46\u8a18\u5206\u985e\uff08\u7e3d\u89bd \u2192 \u6d41\u7a0b \u2192 \u67b6\u69cb\u62c6\u5206 \u2192 \u8e29\u5751 \u2192 \u90e8\u7f72/\u89c0\u6e2c\uff09\u525b\u597d\u6703\u8b93\u9762\u8a66\u5b98\u770b\u5230\u4f60\u4e0d\u662f\u53ea\u6703\u628a\u6771\u897f\u62fc\u8d77\u4f86\uff0c\u800c\u662f\u6709\u300c\u5de5\u7a0b\u5316\u601d\u7dad\u300d\uff1a\u80fd\u628a\u9700\u6c42\u62c6\u89e3\u3001\u628a\u9650\u5236\u5beb\u6e05\u695a\u3001\u628a\u98a8\u96aa\u8207\u53d6\u6368\u8aaa\u660e\u767d\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u7528\u8f49\u8077\u8996\u89d2\uff0c\u76f4\u63a5\u544a\u8a34\u4f60\u600e\u6a23\u66f4\u300c\u52a0\u5206\u300d\u2014\u2014\u4e0d\u9700\u8981\u66f4\u96e3\uff0c\u53ea\u8981\u66f4\u805a\u7126\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u9019\u5957\u7b46\u8a18\u7684\u512a\u9ede\uff08\u5f88\u50cf\u771f\u5be6\u5de5\u7a0b\u6587\u4ef6\uff09"}),"\n",(0,s.jsx)(n.p,{children:"00-overview\uff1a\u4e00\u9801\u5c31\u61c2\u4f60\u505a\u4ec0\u9ebc\u3001\u600e\u9ebc\u8dd1\u3001\u5982\u4f55 demo\uff08\u6700\u91cd\u8981\uff09"}),"\n",(0,s.jsx)(n.p,{children:"reply vs push / queue / callback\uff1a\u9019\u662f\u300c\u7cfb\u7d71\u8a2d\u8a08\u8207\u975e\u540c\u6b65\u300d\u7684\u6838\u5fc3\u80fd\u529b"}),"\n",(0,s.jsx)(n.p,{children:"Flex builder \u6a21\u7d44\u5316\uff1a\u53ef\u7dad\u8b77\u6027\uff08\u4e0d\u662f\u8cbc JSON\uff09"}),"\n",(0,s.jsx)(n.p,{children:"QuickReply 400 \u8e29\u5751\uff1a\u8f49\u8077\u6700\u9700\u8981\u7684\u300c\u771f\u5be6 Debug \u7d93\u9a57\u300d"}),"\n",(0,s.jsx)(n.p,{children:"deploy + baseUrl\uff1a\u90e8\u7f72\u7d30\u7bc0\uff0c\u5f88\u591a\u65b0\u624b\u6c92\u6709\u9019\u584a"}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u8981\u628a\u5b83\u8b8a\u6210\u300c\u8f49\u8077\u5fc5\u52dd\u7b46\u8a18\u300d\uff1a\u53ea\u6539 3 \u500b\u65b9\u5411"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u6bcf\u7bc7\u90fd\u52a0\u4e00\u53e5\u300c\u9762\u8a66\u5b98\u6703\u554f\u7684\u9ede\u300d"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Do what / How / Why \u4e4b\u5f8c\u591a\u4e00\u884c\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"Interview note\uff1a\u5982\u679c\u9762\u8a66\u5b98\u554f\u6211\uff0c\u6211\u6703\u600e\u9ebc\u8b1b\uff082 \u53e5\uff09"}),"\n",(0,s.jsx)(n.p,{children:"Why\uff1a\u8f49\u8077\u7684\u4eba\u6700\u6015\u300c\u505a\u4e86\u4f46\u8aaa\u4e0d\u51fa\u4f86\u300d\uff0c\u9019\u884c\u5c31\u662f\u4f60\u7684\u53e3\u689d\u7a3f\u3002"}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"\u6bcf\u7bc7\u90fd\u8981\u6709\u300c\u53ef\u9a57\u8b49\u7684\u8b49\u64da\u300d"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u4e0d\u9700\u8981\u9577\u6587\uff0c\u4f60\u53ea\u8981\u56fa\u5b9a\u653e\u5176\u4e2d\u4e00\u7a2e\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u6bb5 API request/response\uff08Postman / curl\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u5f35\u6d41\u7a0b\u5716\uff08mermaid\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u6bb5\u95dc\u9375 log\uff08\u542b job id / trace id\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u6bb5\u95dc\u9375 code\uff0810\uff5e20 \u884c\u5c31\u597d\uff09"}),"\n",(0,s.jsx)(n.p,{children:"Why\uff1a\u9762\u8a66\u5b98\u770b\u7684\u662f\u300c\u4f60\u505a\u904e\u300d\u800c\u4e0d\u662f\u300c\u4f60\u8aaa\u4f60\u505a\u904e\u300d\u3002"}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"\u8b93 00-overview \u8b8a\u6210\u300cDemo \u6307\u5357\u300d"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"00-overview \u88e1\u8981\u660e\u78ba\u5beb\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"Demo path\uff1a\u52a0\u5165\u597d\u53cb \u2192 \u6253 \u4f5c\u54c1\u96c6 \u2192 \u9ede \u5730\u653f\u67e5\u8a62 \u2192 \u770b\u5230\u7d50\u679c\u5361"}),"\n",(0,s.jsx)(n.p,{children:"\u5931\u6557\u60c5\u5883\uff1a\u5982\u679c worker fail\uff0c\u6703\u63a8\u64ad failed \u5361\uff08\u4f60\u6709\u8a2d\u8a08\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u7cfb\u7d71\u908a\u754c\uff1aFastAPI \u4e0d\u8dd1 Playwright\u3001Node worker \u624d\u8dd1\uff08\u4f60\u67b6\u69cb\u4eae\u9ede\uff09"}),"\n",(0,s.jsx)(n.p,{children:"Why\uff1a\u4f60\u8981\u7684\u662f\u300c\u4e00\u5206\u9418\u8b93\u4eba\u61c2\u300d\uff0c\u4e0d\u662f\u300c\u4e00\u767e\u9801\u6587\u4ef6\u300d\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u89ba\u5f97\u4f60\u76ee\u524d\u5206\u985e\u53ef\u4ee5\uff0c\u4f46\u6211\u6703\u5e6b\u4f60\u505a\u4e00\u500b\u66f4\u72e0\u7684\u300c\u6700\u5c0f\u52a0\u5206\u7248\u300d"}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u4e0d\u7528\u5beb\u5230 10 \u7bc7\u624d\u7b97\u5b8c\u6210\uff0c\u8f49\u8077\u6700\u6709\u6548\u7684\u662f\u5148\u505a 6 \u7bc7\u7cbe\u9078\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"00-overview\uff08\u5fc5\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u6d88\u606f\u7b56\u7565\uff1areply vs push\uff08\u5fc5\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u6d3e\u5de5\uff1aqueue + worker + callback\uff08\u5fc5\uff09"}),"\n",(0,s.jsx)(n.p,{children:"Flex builder \u6a21\u7d44\u5316\uff08\u5fc5\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u8e29\u5751\uff1aquickReply/location 400\uff08\u5fc5\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u90e8\u7f72\uff1aGitHub Pages baseUrl + clear\uff08\u52a0\u5206\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u5176\u9918 7\u201310 \u7bc7\u7576\u4f5c\u64f4\u5145\uff0c\u4e0d\u5f71\u97ff\u4f60\u5148\u6295\u905e\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u554f\u300c\u9019\u6a23\u6280\u8853\u7b46\u8a18\u53ef\u4ee5\u55ce\uff1f\u300d"}),"\n",(0,s.jsx)(n.p,{children:"\u4ee5\u8f49\u8077\u89d2\u5ea6\uff1a\u975e\u5e38\u53ef\u4ee5\uff0c\u800c\u4e14\u9019\u5957\u7b46\u8a18\u6703\u8b93\u4f60\u770b\u8d77\u4f86\u50cf\u300c\u505a\u904e\u7522\u54c1\u7684\u4eba\u300d\uff0c\u4e0d\u662f\u53ea\u4e0a\u8ab2\u7684\u4eba\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u73fe\u5728\u6700\u8a72\u505a\u7684\u4e0d\u662f\u518d\u60f3\u5206\u985e\uff0c\u800c\u662f\u628a 00-overview \u5148\u5beb\u51fa\u4f86\uff0c\u8b93\u4f60\u53ef\u4ee5\u7acb\u523b\uff1a"}),"\n",(0,s.jsx)(n.p,{children:"\u653e\u5728 README"}),"\n",(0,s.jsx)(n.p,{children:"\u8cbc\u5728\u5c65\u6b77\u4f5c\u54c1\u9023\u7d50"}),"\n",(0,s.jsx)(n.p,{children:"\u9762\u8a66\u7576\u4f5c\u8b1b\u7a3f"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\u4f60\u9858\u610f\uff0c\u6211\u4e0b\u4e00\u53e5\u5c31\u76f4\u63a5\u5e6b\u4f60\u7522\u51fa 00-overview.md\uff08200\u2013400 \u5b57 + 1 \u5f35 mermaid\uff09\uff0c\u5167\u5bb9\u7528\u4f60\u73fe\u5728\u5df2\u77e5\u7684\uff1aLINE OA \u2192 FastAPI webhook \u2192 enqueue \u2192 Node worker/Playwright \u2192 \u56de\u63a8 Flex\u3002\u4f60\u53ea\u8981\u8cbc\u9032\u53bb\u5c31\u80fd\u7528\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"d",children:"d"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"2) \u6bcf\u7bc7\u7b46\u8a18\u8981\u5beb\u4ec0\u9ebc\uff08\u4f60\u6703\u5f88\u5feb\u5beb\u5b8c\uff09\n00-overview.md\uff08\u5fc5\u5beb\uff09\n\n\u76ee\u7684\uff1a\u4e00\u9801\u770b\u61c2\u4f60\u7684 LINE OA \u4f5c\u54c1\u96c6\u662f\u4ec0\u9ebc\n\u5167\u5bb9\u8981\u9ede\uff1a\n\n\u9019\u500b LINE OA \u89e3\u6c7a\u4ec0\u9ebc\uff08\u4e92\u52d5\u4f5c\u54c1\u96c6\u5165\u53e3 + demo \u9ad4\u9a57\uff09\n\n\u4f60\u6709\u54ea\u4e9b demo\uff08\u5730\u653f / \u5fc3\u7406\u8aee\u5546 / \u65c5\u904a / \u4e4b\u5f8c AI-agent\uff09\n\n\u4e00\u5f35 mermaid\uff1a\u6574\u9ad4\u7aef\u5230\u7aef\u6d41\u7a0b\uff08\u4f7f\u7528\u8005\u2192LINE\u2192FastAPI\u2192worker\u2192\u56de\u63a8\uff09\n\n01-commands-and-ux.md\n\n\u76ee\u7684\uff1a\u8aaa\u6e05\u695a\u300c\u4f7f\u7528\u8005\u600e\u9ebc\u64cd\u4f5c\u300d\n\u5167\u5bb9\u8981\u9ede\uff1a\n\n\u6307\u4ee4\u6e05\u55ae\uff08\u4f5c\u54c1\u96c6 / \u5c65\u6b77 / \u5730\u653f\u67e5\u8a62 / \u5fc3\u7406\u8aee\u5546\u67e5\u8a62\u2026\uff09\n\n\u6bcf\u500b\u6307\u4ee4\u7684 UX\uff1a\u5148\u56de\u8986\u300c\u5df2\u6536\u5230\uff0c\u7a0d\u5f8c\u63a8\u64ad\u300d\u2192\u5b8c\u6210\u5f8c push \u7d50\u679c\n\n02-webhook-router-fastapi.md\n\n\u76ee\u7684\uff1a\u4f60 FastAPI webhook router \u600e\u9ebc\u62c6\n\u5167\u5bb9\u8981\u9ede\uff1a\n\nrouter/handler \u7684\u5206\u5c64\n\nclassify_input\uff1a\u600e\u9ebc\u5224\u65b7\u4f7f\u7528\u8005\u8f38\u5165\n\nreply_message \u7684\u5c01\u88dd\u4f4d\u7f6e\n\n03-message-pipeline-reply-vs-push.md\n\n\u76ee\u7684\uff1a\u89e3\u91cb LINE \u7684 reply / push \u5dee\u7570\u8207\u9650\u5236\n\u5167\u5bb9\u8981\u9ede\uff1a\n\nreply_token \u53ea\u80fd\u7528\u4e00\u6b21\u3001\u6642\u9593\u9650\u5236\n\n\u9577\u4efb\u52d9\u8981\u7528 enqueue + push\n\n\u4ec0\u9ebc\u60c5\u6cc1\u7528 reply\uff1f\u4ec0\u9ebc\u60c5\u6cc1\u7528 push\uff1f\n\n04-flex-builder-structure.md\n\n\u76ee\u7684\uff1a\u4f60\u7684 Flex message \u600e\u9ebc\u6a21\u7d44\u5316\n\u5167\u5bb9\u8981\u9ede\uff1a\n\napp/line/flex_builder/ \u7684\u6a94\u6848\u5206\u5de5\n\nbuild_main_menu_flex\u3001build_portfolio_carousel\u3001build_counseling_entry\u2026\n\nbutton helper\uff08btn\uff09\u600e\u9ebc\u7d71\u4e00\u6a23\u5f0f\n\n05-quickreply-rules-and-400.md\uff08\u4f60\u4e4b\u524d\u8e29\u5751\u90a3\u500b\uff09\n\n\u76ee\u7684\uff1a\u628a\u300c\u70ba\u4ec0\u9ebc Flex \u4e0d\u80fd\u639b location quickReply\u300d\u5beb\u6210\u7b46\u8a18\n\u5167\u5bb9\u8981\u9ede\uff1a\n\n\u54ea\u4e9b action \u4e0d\u80fd\u653e\u5728\u54ea\u4e9b message\n\n\u6b63\u78ba\u505a\u6cd5\uff1a\u6700\u5f8c\u88dc\u4e00\u5247 text message \u52a0 quickReply(location)\n\n\u70ba\u4ec0\u9ebc\u8981\u9650\u5236 payload \u6578\u91cf\uff08\u4f8b\u5982 <=5\uff09\n\n06-worker-queue-and-callback.md\n\n\u76ee\u7684\uff1a\u7aef\u5230\u7aef\u6d3e\u5de5\uff1aBullMQ/worker/CF callback \u7684\u6d41\u7a0b\n\u5167\u5bb9\u8981\u9ede\uff1a\n\nenqueue job \u2192 worker \u57f7\u884c \u2192 \u7d50\u679c\u56de\u63a8\n\nfailed \u4e5f\u8981 push\uff08\u5931\u6557\u5361\uff09\n\n\u91cd\u8a66\u7b56\u7565\u3001timeout\n\n07-deploy-and-baseurl.md\n\n\u76ee\u7684\uff1a\u90e8\u7f72\u8207\u7db2\u5740\uff08\u4f60\u73fe\u5728 baseUrl /dev-notes/\uff09\n\u5167\u5bb9\u8981\u9ede\uff1a\n\nGitHub Pages url/baseUrl \u600e\u9ebc\u914d\n\nbuild/ deploy \u6307\u4ee4\n\n\u70ba\u4ec0\u9ebc\u6709\u6642\u5019 clear \u624d\u6703\u597d\n\n08-env-and-secrets.md\n\n\u76ee\u7684\uff1a\u628a LINE token\u3001channel secret\u3001\u5404\u670d\u52d9 key \u600e\u9ebc\u653e\u6e05\u695a\n\u5167\u5bb9\u8981\u9ede\uff1a\n\n.env\u3001\u90e8\u7f72\u74b0\u5883\u3001\u4e0d\u8981\u628a token commit\n\n\u672c\u5730/\u6b63\u5f0f\u74b0\u5883\u5dee\u7570\n\n09-observability-logs.md\n\n\u76ee\u7684\uff1a\u4f60\u600e\u9ebc\u8ffd\u554f\u984c\uff08log\u3001request id\u3001job id\uff09\n\u5167\u5bb9\u8981\u9ede\uff1a\n\nwebhook \u6536\u5230 \u2192 classify \u2192 enqueue \u2192 worker \u2192 callback \u6bcf\u6bb5\u90fd\u6253 log\n\n\u4e00\u500b trace id \u4e32\u8d77\u4f86\n\n10-troubleshooting.md\n\n\u76ee\u7684\uff1a\u628a\u5e38\u898b\u932f\u8aa4\u6574\u7406\u6210\u300c\u67e5\u8868\u300d\n\u5167\u5bb9\u8981\u9ede\uff1a\n\n400 / reply_token invalid / push \u5931\u6557 / webhook \u9a57\u8b49\u5931\u6557\n\nDocusaurus clear \u554f\u984c\uff08\u4f60\u525b\u525b\u90a3\u500b\u4e5f\u53ef\u653e\uff09\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,r){r.d(n,{R:()=>i,x:()=>d});var l=r(6540);const s={},o=l.createContext(s);function i(e){const n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);
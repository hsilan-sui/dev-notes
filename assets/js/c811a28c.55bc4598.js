"use strict";(globalThis.webpackChunksui_dev_notes=globalThis.webpackChunksui_dev_notes||[]).push([[6926],{2513(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"SystemDesignArchitecture/DNS","title":"\u3010Web\u3011DNS \ud83d\udc49 \u7db2\u57df\u540d\u7a31\u7cfb\u7d71","description":"\ud83d\udfe7 \u958b\u5834\u767d","source":"@site/docs/SystemDesignArchitecture/02-DNS.md","sourceDirName":"SystemDesignArchitecture","slug":"/SystemDesignArchitecture/DNS","permalink":"/dev-notes/docs/SystemDesignArchitecture/DNS","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/SystemDesignArchitecture/02-DNS.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"\u3010Web\u3011DNS \ud83d\udc49 \u7db2\u57df\u540d\u7a31\u7cfb\u7d71","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u3010Web\u3011Browsers\u700f\u89bd\u5668 / client \u5ba2\u6236\u7aef","permalink":"/dev-notes/docs/SystemDesignArchitecture/browser-client copy"},"next":{"title":"\u3010\u7b46\u8a18_\u526f\u6a19\u7c64\u3011\u7b46\u8a18\u7d50\u69cb","permalink":"/dev-notes/docs/SystemDesignArchitecture/\uff4ddx-feature"}}');var s=i(4848),l=i(8453);const d={title:"\u3010Web\u3011DNS \ud83d\udc49 \u7db2\u57df\u540d\u7a31\u7cfb\u7d71",sidebar_position:2},c=void 0,o={},t=[{value:"\ud83d\udfe7 \u958b\u5834\u767d",id:"-\u958b\u5834\u767d",level:2},{value:"\ud83d\udfe6 \ud83d\udc49 \u300c\u73fe\u5be6\u751f\u6d3b\u5730\u5740\u300d\u4f86\u8b1b\uff1a",id:"--\u73fe\u5be6\u751f\u6d3b\u5730\u5740\u4f86\u8b1b",level:2},{value:"\ud83d\udfe6 \ud83d\udc49 \u300c\u7db2\u8def\u4e16\u754c\u300d\u4f86\u8b1b\uff1a",id:"--\u7db2\u8def\u4e16\u754c\u4f86\u8b1b",level:2},{value:"\ud83d\udfe6 DNS \u5230\u5e95\u5728\u505a\u4ec0\u9ebc",id:"-dns-\u5230\u5e95\u5728\u505a\u4ec0\u9ebc",level:2},{value:"0\ufe0f\u20e3 \u6211\u5e73\u5e38\u5728\u700f\u89bd\u5668\u505a\u7684\u4e8b",id:"0\ufe0f\u20e3-\u6211\u5e73\u5e38\u5728\u700f\u89bd\u5668\u505a\u7684\u4e8b",level:3},{value:"1\ufe0f\u20e3 Browser \u5c0d =&gt; DNS \u63d0\u554f",id:"1\ufe0f\u20e3-browser-\u5c0d--dns-\u63d0\u554f",level:3},{value:"2\ufe0f\u20e3 DNS \u56de\u7b54 =&gt; Browser",id:"2\ufe0f\u20e3-dns-\u56de\u7b54--browser",level:3},{value:"3\ufe0f\u20e3 Browser \u624d\u80fd\u62ff\u8457 IP",id:"3\ufe0f\u20e3-browser-\u624d\u80fd\u62ff\u8457-ip",level:3},{value:"4\ufe0f\u20e3 \u70ba\u4ec0\u9ebc\u4e00\u500b\u7db2\u7ad9\u6703\u6709\u5f88\u591a IP\u4f4d\u5740",id:"4\ufe0f\u20e3-\u70ba\u4ec0\u9ebc\u4e00\u500b\u7db2\u7ad9\u6703\u6709\u5f88\u591a-ip\u4f4d\u5740",level:3},{value:"5\ufe0f\u20e3 IPv4 \u8207 IPv6",id:"5\ufe0f\u20e3-ipv4-\u8207-ipv6",level:3},{value:"\ud83d\udfe5 \u7d50\u5c3e",id:"-\u7d50\u5c3e",level:2},{value:"0\ufe0f\u20e3 A Record\uff08IPv4\uff09",id:"0\ufe0f\u20e3-a-recordipv4",level:3},{value:"1\ufe0f\u20e3 AAAA Record\uff08IPv6\uff09",id:"1\ufe0f\u20e3-aaaa-recordipv6",level:3},{value:"2\ufe0f\u20e3  \u90a3\u662f\u8ab0\u6c7a\u5b9a\u8981\u9001 A \u9084\u662f AAAA\uff1f",id:"2\ufe0f\u20e3--\u90a3\u662f\u8ab0\u6c7a\u5b9a\u8981\u9001-a-\u9084\u662f-aaaa",level:3},{value:"3\ufe0f\u20e3 Browser \u7684\u5be6\u969b\u884c\u70ba\uff08\u7cfb\u7d71\u8a2d\u8a08\u611f\u5728\u9019\uff09",id:"3\ufe0f\u20e3-browser-\u7684\u5be6\u969b\u884c\u70ba\u7cfb\u7d71\u8a2d\u8a08\u611f\u5728\u9019",level:3}];function h(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Highlight:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Highlight",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"-\u958b\u5834\u767d",children:"\ud83d\udfe7 \u958b\u5834\u767d"}),"\n",(0,s.jsx)(n.admonition,{title:"DNS(Domain Name System) \ud83d\udc49 \u7db2\u57df\u540d\u7a31\u7cfb\u7d71\uff1a",type:"tip",children:(0,s.jsx)(n.p,{children:"DNS \u662f\u8ca0\u8cac\u628a\u4eba\u985e\u53ef\u8b80\u7684\u7db2\u5740\uff0c\u8f49\u63db\u6210\u6a5f\u5668\u80fd\u7406\u89e3\u7684 IP \u4f4d\u5740\uff0c\u8b93\u4f7f\u7528\u8005\u53ef\u4ee5\u6b63\u78ba\u9023\u7dda\u5230\u5f8c\u7aef\u670d\u52d9\u5165\u53e3\u3002"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"--\u73fe\u5be6\u751f\u6d3b\u5730\u5740\u4f86\u8b1b",children:"\ud83d\udfe6 \ud83d\udc49 \u300c\u73fe\u5be6\u751f\u6d3b\u5730\u5740\u300d\u4f86\u8b1b\uff1a"}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:"\u6211\u5bb6\u5730\u5740\u3001\u516c\u53f8\u5730\u5740\u90fd\u5fc5\u9808\u662f\u552f\u4e00\u7684"}),(0,s.jsx)(n.p,{children:"\u4e0d\u7136\u4fe1\u4ef6\u6703\u5bc4\u932f"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"--\u7db2\u8def\u4e16\u754c\u4f86\u8b1b",children:"\ud83d\udfe6 \ud83d\udc49 \u300c\u7db2\u8def\u4e16\u754c\u300d\u4f86\u8b1b\uff1a"}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:"IP \u4f4d\u5740 = \u7db2\u8def\u552f\u4e00\u6536\u4ef6\u5730\u5740"}),(0,s.jsx)(n.p,{children:"DNS = \u67e5\u5730\u5740\u7684\u7cfb\u7d71"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-dns-\u5230\u5e95\u5728\u505a\u4ec0\u9ebc",children:"\ud83d\udfe6 DNS \u5230\u5e95\u5728\u505a\u4ec0\u9ebc"}),"\n",(0,s.jsx)(n.h3,{id:"0\ufe0f\u20e3-\u6211\u5e73\u5e38\u5728\u700f\u89bd\u5668\u505a\u7684\u4e8b",children:"0\ufe0f\u20e3 \u6211\u5e73\u5e38\u5728\u700f\u89bd\u5668\u505a\u7684\u4e8b"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8f38\u5165 facebook.com"}),"\n",(0,s.jsx)(n.li,{children:"\u6309 Enter"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"1\ufe0f\u20e3-browser-\u5c0d--dns-\u63d0\u554f",children:"1\ufe0f\u20e3 Browser \u5c0d => DNS \u63d0\u554f"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Browser \u5c0d DNS \u8aaa:\u6211\u60f3\u8981\u9019\u500b domain \u7684\u4f4d\u7f6e"})}),"\n",(0,s.jsx)(n.h3,{id:"2\ufe0f\u20e3-dns-\u56de\u7b54--browser",children:"2\ufe0f\u20e3 DNS \u56de\u7b54 => Browser"}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u500b domain \u5c0d\u61c9\u5230\u67d0\u4e00\u7d44 IP \u4f4d\u5740"}),"\n",(0,s.jsx)(n.h3,{id:"3\ufe0f\u20e3-browser-\u624d\u80fd\u62ff\u8457-ip",children:"3\ufe0f\u20e3 Browser \u624d\u80fd\u62ff\u8457 IP"}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc49 \u53bb\u771f\u6b63\u7684\u4f3a\u670d\u5668\u8981\u8cc7\u6599"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"DNS \u4e0d\u7d66\u5167\u5bb9\uff0c\u53ea\u544a\u8a34\u6211\u300c\u53bb\u54ea\u88e1\u62ff\u5167\u5bb9\u300d"})}),"\n",(0,s.jsx)(n.h3,{id:"4\ufe0f\u20e3-\u70ba\u4ec0\u9ebc\u4e00\u500b\u7db2\u7ad9\u6703\u6709\u5f88\u591a-ip\u4f4d\u5740",children:"4\ufe0f\u20e3 \u70ba\u4ec0\u9ebc\u4e00\u500b\u7db2\u7ad9\u6703\u6709\u5f88\u591a IP\u4f4d\u5740"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u4ee5 Facebook \u70ba\u4f8b\uff1a"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Facebook \u4e0d\u662f\u53ea\u6709\u4e00\u53f0\u4f3a\u670d\u5668"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(i,{color:"#C62828",children:"\u800c\u662f\uff1a\u6578\u5341\u842c \u751a\u81f3\u6578\u767e\u842c\u500b IP \u4f4d\u5740"})," !"]}),"\n",(0,s.jsx)(n.p,{children:"\u539f\u56e0\u662f\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5168\u7403\u4f7f\u7528\u8005"}),"\n",(0,s.jsx)(n.li,{children:"\u5730\u7406\u4f4d\u7f6e\u4e0d\u540c"}),"\n",(0,s.jsx)(n.li,{children:"\u6d41\u91cf\u5de8\u5927"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc49 DNS \u7684\u5de5\u4f5c\u4e0d\u662f\u300c\u53ea\u6307\u5411\u4e00\u500b\u9ede\u300d"}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc49 \u800c\u662f\u300c\u5e6b\u6211\u9078\u4e00\u500b\u9069\u5408\u7684\u9ede\u300d"}),"\n",(0,s.jsx)(n.h3,{id:"5\ufe0f\u20e3-ipv4-\u8207-ipv6",children:"5\ufe0f\u20e3 IPv4 \u8207 IPv6"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"DNS \u4e0d\u662f\u81ea\u5df1\u6c7a\u5b9a\u56de IPv4 \u6216 IPv6\uff0c\u800c\u662f\u300c\u7167\u8457\u8acb\u6c42\u88e1\u9762\u5beb\u7684\u985e\u578b\u56de\u8cc7\u6599\u300d\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{title:"IPv4 \u662f\u4ec0\u9ebc",type:"tip",children:[(0,s.jsx)(n.p,{children:"IPv4 \u662f\u4ec0\u9ebc"}),(0,s.jsx)(n.p,{children:"\u683c\u5f0f\uff1a\u6578\u5b57\uff0b\u9ede"}),(0,s.jsx)(n.p,{children:"\u4f4d\u5740\u6578\u91cf\u6709\u9650\n\u7d04 4.29 \xd7 10 \u7684 9 \u6b21\u65b9"}),(0,s.jsx)(n.p,{children:"\ud83d\udc49 \u7576\u521d\u767c\u660e\u7db2\u969b\u7db2\u8def\u6642\uff1a \u6c92\u60f3\u5230\u6703\u7206\u6210\u9019\u6a23"})]}),"\n",(0,s.jsxs)(n.admonition,{title:"\u70ba\u4ec0\u9ebc\u9700\u8981 IPv6",type:"tip",children:[(0,s.jsx)(n.p,{children:"IPv6 \u53ef\u5bb9\u7d0d\u7684\u4f4d\u5740\u6578\u91cf\uff1a\n3.4 \xd7 10 \u7684 38 \u6b21\u65b9"}),(0,s.jsx)(n.p,{children:"\ud83d\udc49 \u5e7e\u4e4e\u7528\u4e0d\u5b8c"}),(0,s.jsx)(n.p,{children:"\ud83d\udc49 \u6240\u4ee5\u73fe\u5728 DNS \u5fc5\u9808\u540c\u6642\u652f\u63f4\uff1a"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"IPv4"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"IPv6"}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u300cDNS \u56de IPv4 \u6216 IPv6\uff0c\u4e0d\u662f\u5b83\u81ea\u5df1\u5224\u65b7\uff0c\u800c\u662f client \u5728 DNS query \u88e1\u9762\u5c31\u5df2\u7d93\u6307\u5b9a record type\uff0c\u4f8b\u5982 A \u6216 AAAA\uff0cDNS \u53ea\u662f\u7167\u898f\u683c\u56de\u50b3\u3002\u300d"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-\u7d50\u5c3e",children:"\ud83d\udfe5 \u7d50\u5c3e"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DNS \u5e38\u898b\u7684\u5169\u7a2e\u67e5\u8a62\u985e\u578b\uff08\u9019\u5c31\u662f\u95dc\u9375\uff09"})}),"\n",(0,s.jsx)(n.h3,{id:"0\ufe0f\u20e3-a-recordipv4",children:"0\ufe0f\u20e3 A Record\uff08IPv4\uff09"}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"\u67e5\u8a62\u985e\u578b\uff1aA"}),(0,s.jsx)(n.p,{children:"\u610f\u601d\u662f\uff1a\n\u8acb\u7d66\u6211\u9019\u500b domain \u5c0d\u61c9\u7684 IPv4 \u4f4d\u5740"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"facebook.com \u2192 31.xxx.xxx.xxx\n"})}),"\n",(0,s.jsx)(n.h3,{id:"1\ufe0f\u20e3-aaaa-recordipv6",children:"1\ufe0f\u20e3 AAAA Record\uff08IPv6\uff09"}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"\u67e5\u8a62\u985e\u578b\uff1aAAAA"}),(0,s.jsx)(n.p,{children:"\u610f\u601d\u662f\uff1a"}),(0,s.jsx)(n.p,{children:"\u8acb\u7d66\u6211\u9019\u500b domain \u5c0d\u61c9\u7684 IPv6 \u4f4d\u5740"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"facebook.com \u2192 2a03:xxxx:xxxx::xxxx\n"})}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc49 DNS \u53ea\u8ca0\u8cac\uff1a\u4f60\u8981\u4ec0\u9ebc\uff0c\u6211\u5c31\u56de\u4ec0\u9ebc"}),"\n",(0,s.jsx)(n.h3,{id:"2\ufe0f\u20e3--\u90a3\u662f\u8ab0\u6c7a\u5b9a\u8981\u9001-a-\u9084\u662f-aaaa",children:"2\ufe0f\u20e3  \u90a3\u662f\u8ab0\u6c7a\u5b9a\u8981\u9001 A \u9084\u662f AAAA\uff1f"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(i,{children:"Client\uff08\u767c\u8acb\u6c42\u7684\u4eba\uff09"})," !"]}),"\n",(0,s.jsx)(n.p,{children:"\u4f86\u6e90\u53ef\u80fd\u662f\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Browser\uff08Chrome / Safari\uff09"}),"\n",(0,s.jsx)(n.li,{children:"Mobile App"}),"\n",(0,s.jsx)(n.li,{children:"Server to Server \u547c\u53eb"}),"\n",(0,s.jsx)(n.li,{children:"IoT \u88dd\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3\ufe0f\u20e3-browser-\u7684\u5be6\u969b\u884c\u70ba\u7cfb\u7d71\u8a2d\u8a08\u611f\u5728\u9019",children:"3\ufe0f\u20e3 Browser \u7684\u5be6\u969b\u884c\u70ba\uff08\u7cfb\u7d71\u8a2d\u8a08\u611f\u5728\u9019\uff09"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u73fe\u4ee3\u700f\u89bd\u5668\u901a\u5e38\u662f\uff1a"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5148\u554f AAAA\uff08IPv6\uff09"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5982\u679c\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u7db2\u8def\u652f\u63f4 IPv6"}),"\n",(0,s.jsx)(n.li,{children:"DNS \u6709\u56de IPv6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc49 \u7528 IPv6 \u9023\u7dda"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5982\u679c\u5931\u6557\uff1a","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u518d\u9000\u56de\u554f A\uff08IPv4\uff09"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\ud83d\udc49 \u9019\u53eb\u505a fallback \u7b56\u7565"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Browser / App \uff5c \u700f\u89bd\u5668/\u5ba2\u6236\u7aef\n   \u2193\uff08A or AAAA query\uff09\nDNS  \uff5c \u57df\u540d\u89e3\u6790\n   \u2193\uff08\u56de IP\uff09\nCDN / Load Balancer\n   \u2193\nWeb Server \uff5c\u7db2\u8def\u4f3a\u670d\u5668\n\n"})})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,i){i.d(n,{R:()=>d,x:()=>c});var r=i(6540);const s={},l=r.createContext(s);function d(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);